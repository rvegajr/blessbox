---
// Foundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
import Text from "@/components/fundations/elements/Text.astro";
import Button from "@/components/fundations/elements/Button.astro";

// Icons
import Code from "@/components/fundations/icons/Code.astro";
import CircleCheck from "@/components/fundations/icons/CircleCheck.astro";
import Edit from "@/components/fundations/icons/Edit.astro";
import ThreeDots from "@/components/fundations/icons/ThreeDots.astro";
import Plus from "@/components/fundations/icons/Plus.astro";
import Camera from "@/components/fundations/icons/Camera.astro";
---

<BaseLayout>
  <div class="min-h-screen bg-base-50">
    <!-- Header -->
    <section class="py-8 bg-white border-b border-base-200">
      <Wrapper>
        <div class="flex items-center justify-between">
          <div>
            <Text tag="h1" variant="display2XL" class="font-bold text-base-900 mb-2">
              QR Code Management
            </Text>
            <Text tag="p" variant="textLG" class="text-base-600">
              Manage your organization's QR codes and track registrations
            </Text>
          </div>
          <Button variant="primary" size="large" class="flex items-center">
            <Plus class="w-5 h-5 mr-2" />
            Create New QR Set
          </Button>
        </div>
      </Wrapper>
    </section>

    <!-- Stats Overview -->
    <section class="py-8">
      <Wrapper>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <div class="bg-white rounded-xl p-6 shadow-sm">
            <Text tag="h3" variant="textSM" class="text-base-500 font-medium mb-2">
              Active QR Sets
            </Text>
            <Text tag="p" variant="display2XL" class="font-bold text-base-900">
              3
            </Text>
          </div>
          <div class="bg-white rounded-xl p-6 shadow-sm">
            <Text tag="h3" variant="textSM" class="text-base-500 font-medium mb-2">
              Total Registrations
            </Text>
            <Text tag="p" variant="display2XL" class="font-bold text-green-600">
              247
            </Text>
          </div>
          <div class="bg-white rounded-xl p-6 shadow-sm">
            <Text tag="h3" variant="textSM" class="text-base-500 font-medium mb-2">
              Today's Scans
            </Text>
            <Text tag="p" variant="display2XL" class="font-bold text-blue-600">
              67
            </Text>
          </div>
          <div class="bg-white rounded-xl p-6 shadow-sm">
            <Text tag="h3" variant="textSM" class="text-base-500 font-medium mb-2">
              Conversion Rate
            </Text>
            <Text tag="p" variant="display2XL" class="font-bold text-purple-600">
              87%
            </Text>
          </div>
        </div>
      </Wrapper>
    </section>

    <!-- QR Code Sets -->
    <section class="pb-12">
      <Wrapper>
        <div class="space-y-6">
          <!-- QR Set 1: Weekly Food Distribution -->
          <div class="bg-white rounded-xl shadow-sm border border-base-200">
            <div class="p-6 border-b border-base-200">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                  <div class="bg-green-100 p-2 rounded-lg mr-3">
                    <Code class="w-5 h-5 text-green-600" />
                  </div>
                  <div>
                    <Text tag="h3" variant="textLG" class="font-semibold text-base-900">
                      Weekly Food Distribution
                    </Text>
                    <Text tag="p" variant="textSM" class="text-base-500">
                      Food Donation • Created Jan 15, 2024
                    </Text>
                  </div>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">
                    Active
                  </div>
                  <Button variant="ghost" size="small">
                    <ThreeDots class="w-4 h-4" />
                  </Button>
                </div>
              </div>

              <!-- QR Codes in this set -->
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">
                <!-- QR Code 1 -->
                <div class="border border-base-200 rounded-lg p-4">
                  <div class="flex items-center justify-between mb-3">
                    <Text tag="h4" variant="textMD" class="font-medium text-base-800">
                      Main Entrance
                    </Text>
                    <Button variant="ghost" size="small">
                      <Edit class="w-4 h-4" />
                    </Button>
                  </div>
                  
                  <!-- Mock QR Code -->
                  <div class="w-20 h-20 bg-base-800 rounded-lg flex items-center justify-center mb-3 mx-auto">
                    <div class="grid grid-cols-4 gap-px p-2">
                      <div class="w-1 h-1 bg-white"></div>
                      <div class="w-1 h-1 bg-base-800"></div>
                      <div class="w-1 h-1 bg-white"></div>
                      <div class="w-1 h-1 bg-white"></div>
                    </div>
                  </div>
                  
                  <div class="text-center space-y-1">
                    <Text tag="p" variant="textSM" class="text-base-600">
                      45 scans • 38 registrations
                    </Text>
                    <Text tag="p" variant="textXS" class="text-green-600 font-medium">
                      84% conversion
                    </Text>
                  </div>
                </div>

                <!-- QR Code 2 -->
                <div class="border border-base-200 rounded-lg p-4">
                  <div class="flex items-center justify-between mb-3">
                    <Text tag="h4" variant="textMD" class="font-medium text-base-800">
                      Side Door
                    </Text>
                    <Button variant="ghost" size="small">
                      <Edit class="w-4 h-4" />
                    </Button>
                  </div>
                  
                  <!-- Mock QR Code -->
                  <div class="w-20 h-20 bg-base-800 rounded-lg flex items-center justify-center mb-3 mx-auto">
                    <div class="grid grid-cols-4 gap-px p-2">
                      <div class="w-1 h-1 bg-base-800"></div>
                      <div class="w-1 h-1 bg-white"></div>
                      <div class="w-1 h-1 bg-base-800"></div>
                      <div class="w-1 h-1 bg-base-800"></div>
                    </div>
                  </div>
                  
                  <div class="text-center space-y-1">
                    <Text tag="p" variant="textSM" class="text-base-600">
                      32 scans • 29 registrations
                    </Text>
                    <Text tag="p" variant="textXS" class="text-green-600 font-medium">
                      91% conversion
                    </Text>
                  </div>
                </div>

                <!-- Add QR Code -->
                <div class="border-2 border-dashed border-base-300 rounded-lg p-4 flex flex-col items-center justify-center text-center min-h-[180px]">
                  <div class="bg-base-100 p-3 rounded-lg mb-3">
                    <Plus class="w-6 h-6 text-base-400" />
                  </div>
                  <Text tag="p" variant="textSM" class="text-base-500 mb-2">
                    Add another QR code
                  </Text>
                  <Button variant="ghost" size="small">
                    Add QR Code
                  </Button>
                </div>
              </div>

              <!-- Summary Stats -->
              <div class="grid grid-cols-3 gap-4 pt-4 border-t border-base-200">
                <div class="text-center">
                  <Text tag="p" variant="textLG" class="font-semibold text-base-900">
                    77
                  </Text>
                  <Text tag="p" variant="textXS" class="text-base-500">
                    Total Scans
                  </Text>
                </div>
                <div class="text-center">
                  <Text tag="p" variant="textLG" class="font-semibold text-green-600">
                    67
                  </Text>
                  <Text tag="p" variant="textXS" class="text-base-500">
                    Registrations
                  </Text>
                </div>
                <div class="text-center">
                  <Text tag="p" variant="textLG" class="font-semibold text-blue-600">
                    87%
                  </Text>
                  <Text tag="p" variant="textXS" class="text-base-500">
                    Conversion
                  </Text>
                </div>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="p-4 bg-base-50 rounded-b-xl">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                  <Button variant="secondary" size="small">
                    View Registrations
                  </Button>
                  <Button variant="secondary" size="small">
                    Download QR Codes
                  </Button>
                  <Button variant="secondary" size="small">
                    Analytics
                  </Button>
                </div>
                <Text tag="p" variant="textXS" class="text-base-500">
                  Last registration: 5 minutes ago
                </Text>
              </div>
            </div>
          </div>

          <!-- QR Set 2: Volunteer Orientation -->
          <div class="bg-white rounded-xl shadow-sm border border-base-200">
            <div class="p-6 border-b border-base-200">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center">
                  <div class="bg-blue-100 p-2 rounded-lg mr-3">
                    <Code class="w-5 h-5 text-blue-600" />
                  </div>
                  <div>
                    <Text tag="h3" variant="textLG" class="font-semibold text-base-900">
                      Volunteer Orientation
                    </Text>
                    <Text tag="p" variant="textSM" class="text-base-500">
                      Volunteer Sign-up • Created Jan 12, 2024
                    </Text>
                  </div>
                </div>
                <div class="flex items-center space-x-2">
                  <div class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">
                    Active
                  </div>
                  <Button variant="ghost" size="small">
                    <ThreeDots class="w-4 h-4" />
                  </Button>
                </div>
              </div>

              <!-- Single QR Code -->
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4">
                <div class="border border-base-200 rounded-lg p-4">
                  <div class="flex items-center justify-between mb-3">
                    <Text tag="h4" variant="textMD" class="font-medium text-base-800">
                      Registration Desk
                    </Text>
                    <Button variant="ghost" size="small">
                      <Edit class="w-4 h-4" />
                    </Button>
                  </div>
                  
                  <!-- Mock QR Code -->
                  <div class="w-20 h-20 bg-base-800 rounded-lg flex items-center justify-center mb-3 mx-auto">
                    <div class="grid grid-cols-4 gap-px p-2">
                      <div class="w-1 h-1 bg-white"></div>
                      <div class="w-1 h-1 bg-white"></div>
                      <div class="w-1 h-1 bg-base-800"></div>
                      <div class="w-1 h-1 bg-white"></div>
                    </div>
                  </div>
                  
                  <div class="text-center space-y-1">
                    <Text tag="p" variant="textSM" class="text-base-600">
                      23 scans • 21 registrations
                    </Text>
                    <Text tag="p" variant="textXS" class="text-green-600 font-medium">
                      91% conversion
                    </Text>
                  </div>
                </div>
              </div>

              <!-- Summary Stats -->
              <div class="grid grid-cols-3 gap-4 pt-4 border-t border-base-200">
                <div class="text-center">
                  <Text tag="p" variant="textLG" class="font-semibold text-base-900">
                    23
                  </Text>
                  <Text tag="p" variant="textXS" class="text-base-500">
                    Total Scans
                  </Text>
                </div>
                <div class="text-center">
                  <Text tag="p" variant="textLG" class="font-semibold text-green-600">
                    21
                  </Text>
                  <Text tag="p" variant="textXS" class="text-base-500">
                    Registrations
                  </Text>
                </div>
                <div class="text-center">
                  <Text tag="p" variant="textLG" class="font-semibold text-blue-600">
                    91%
                  </Text>
                  <Text tag="p" variant="textXS" class="text-base-500">
                    Conversion
                  </Text>
                </div>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="p-4 bg-base-50 rounded-b-xl">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                  <Button variant="secondary" size="small">
                    View Registrations
                  </Button>
                  <Button variant="secondary" size="small">
                    Download QR Codes
                  </Button>
                  <Button variant="secondary" size="small">
                    Analytics
                  </Button>
                </div>
                <Text tag="p" variant="textXS" class="text-base-500">
                  Last registration: 2 hours ago
                </Text>
              </div>
            </div>
          </div>

          <!-- Create New QR Set Card -->
          <div class="bg-white rounded-xl shadow-sm border-2 border-dashed border-base-300">
            <div class="p-8 text-center">
              <div class="bg-blue-100 p-4 rounded-full w-16 h-16 mx-auto mb-4">
                <Camera class="w-8 h-8 text-blue-600" />
              </div>
              <Text tag="h3" variant="textLG" class="font-semibold text-base-900 mb-2">
                Create New QR Code Set
              </Text>
              <Text tag="p" variant="textBase" class="text-base-500 mb-6">
                Set up a new event with multiple QR codes for different locations or purposes
              </Text>
              <Button variant="primary" size="large">
                Get Started
              </Button>
            </div>
          </div>
        </div>
      </Wrapper>
    </section>
  </div>
</BaseLayout>