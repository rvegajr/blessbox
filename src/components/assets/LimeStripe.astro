---
// LimeStripe Component This component renders an SVG LimeStripe and accepts props for customization.
// Props: - class: A string of additional classes to style the SVG.
// - ...rest: Any other valid attributes for an <svg> element (e.g., id, style, role, aria-label, etc.).
// Example Usage: <LimeStripe class="my-custom-class" /> or <LimeStripe id="LimeStripe-id" style="width: 50px; height: 50px;" />
// ADd your LimeStripe here and pass the   class={className} {...rest} like on the example
const { class: className = "", ...rest } = Astro.props;
---

<iframe
aria-hidden="true"
  class={className}
  {...rest}
  src="data:text/html;base64,PGh0bWw+CiAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+CiAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgIGh0bWwsIGJvZHl7CiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgPHNjcmlwdCB0eXBlPSJpbXBvcnRtYXAiPgp7CiAgICAiaW1wb3J0cyI6IHsKICAgICAgICAicmVhY3QiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvcmVhY3RAMTguMC4yIiwKICAgICAgICAicmVhY3QtZG9tIjogImh0dHBzOi8vY2RuLnNreXBhY2suZGV2L3JlYWN0LWRvbUAxOC4wLjIiLAogICAgICAgICJ0aHJlZSI6ICJodHRwczovL2Nkbi5za3lwYWNrLmRldi90aHJlZUAwLjE0OC4wIiwKICAgICAgICAicmVhY3QtdGhyZWUvZmliZXIiOiAiaHR0cHM6Ly9jZG4uc2t5cGFjay5kZXYvQHJlYWN0LXRocmVlL2ZpYmVyQDcuMC4yNCIKICAgIH0KfQo8L3NjcmlwdD4KPHN0eWxlPgogICAgaHRtbCwgYm9keXsKICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgcGFkZGluZzogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgfQogICAgLm50LWVtYmVkewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5udC1lbWJlZCBjYW52YXN7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgfQo8L3N0eWxlPgo8c2NyaXB0IHR5cGU9Im1vZHVsZSI+CiAgICBpbXBvcnQgUmVhY3QsIHt1c2VSZWYsdXNlTWVtb30gZnJvbSAncmVhY3QnOwogICAgaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7CiAgICBpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CiAgICBpbXBvcnQge0NhbnZhcywgdXNlRnJhbWUsIHVzZVRocmVlfSBmcm9tICdyZWFjdC10aHJlZS9maWJlcic7CgogICAgbGV0IGVtYmVkUm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZW1iZWRSb290LmNsYXNzTmFtZSA9ICJudC1lbWJlZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtYmVkUm9vdCk7CgogICAgY29uc3QgVGV4dHVyZU1lc2ggPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbWVzaCA9IHVzZVJlZihudWxsKQogICAgICAgIHVzZUZyYW1lKHN0YXRlID0+IHsKICAgICAgICAgICAgY29uc3QgeyBjbG9jaywgbW91c2UsIGdsLCBzY2VuZSwgY2FtZXJhIH0gPSBzdGF0ZQogICAgICAgICAgICBpZihtZXNoLmN1cnJlbnQpewogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfbW91c2UudmFsdWUgPSBbbW91c2UueCAvIDIgKyAwLjUsIG1vdXNlLnkgLyAyICsgMC41XQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfdGltZS52YWx1ZSA9IGNsb2NrLmdldEVsYXBzZWRUaW1lKCkKICAgICAgICAgICAgICAgIGxldCBjID0gZ2wuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICAgICAgICAgICAgbWVzaC5jdXJyZW50Lm1hdGVyaWFsLnVuaWZvcm1zLnVfcmVzb2x1dGlvbi52YWx1ZSA9IFtjLndpZHRoLGMuaGVpZ2h0XQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnbWVzaCcsCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJlZjptZXNoLAogICAgICAgICAgICAgICAgcG9zaXRpb246IFswLDAsMF0sCiAgICAgICAgICAgICAgICBzY2FsZTogMS41LAogICAgICAgICAgICAgICAgcm90YXRpb246IFstMC43NSwwLjI1LC0wLjI1XQogICAgICAgICAgICB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdwbGFuZUdlb21ldHJ5Jyx7YXJnczpbMywxLDIwNDhdfSksIAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdzaGFkZXJNYXRlcmlhbCcsewogICAgICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IGAvLyBGcmFnbWVudCBzaGFkZXIKCgoKLy8gVW5pZm9ybXMKCnVuaWZvcm0gdmVjMiB1X3Jlc29sdXRpb247Cgp1bmlmb3JtIHZlYzIgdV9tb3VzZTsKCnVuaWZvcm0gZmxvYXQgdV90aW1lOwoKdW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eTsKCnVuaWZvcm0gdmVjNCB1X2NvbG9yc1syXTsKCnVuaWZvcm0gZmxvYXQgdV9zcGVlZDsKCnVuaWZvcm0gZmxvYXQgdV9zY2FsZTsKCgoKdmFyeWluZyB2ZWMyIHZVdjsKCnZhcnlpbmcgZmxvYXQgdkRpc3BsYWNlbWVudDsKCnZhcnlpbmcgdmVjMyBwb3M7CgoKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX1FVSU5USUMKI2RlZmluZSBGTkNfUVVJTlRJQyAKCmZsb2F0IHF1aW50aWMoY29uc3QgaW4gZmxvYXQgdikgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzIgIHF1aW50aWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzMgIHF1aW50aWMoY29uc3QgaW4gdmVjMyB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzQgIHF1aW50aWMoY29uc3QgaW4gdmVjNCB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfUE5PSVNFCiNkZWZpbmUgRk5DX1BOT0lTRQoKZmxvYXQgcG5vaXNlKGluIHZlYzIgUCwgaW4gdmVjMiByZXApIHsKICAgIHZlYzQgUGkgPSBmbG9vcihQLnh5eHkpICsgdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgdmVjNCBQZiA9IGZyYWN0KFAueHl4eSkgLSB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7CiAgICBQaSA9IG1vZChQaSwgcmVwLnh5eHkpOyAKICAgIFBpID0gbW9kMjg5KFBpKTsgICAgICAgIAogICAgdmVjNCBpeCA9IFBpLnh6eHo7CiAgICB2ZWM0IGl5ID0gUGkueXl3dzsKICAgIHZlYzQgZnggPSBQZi54enh6OwogICAgdmVjNCBmeSA9IFBmLnl5d3c7CgogICAgdmVjNCBpID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKCiAgICB2ZWM0IGd4ID0gZnJhY3QoaSAqICgxLjAgLyA0MS4wKSkgKiAyLjAgLSAxLjAgOwogICAgdmVjNCBneSA9IGFicyhneCkgLSAwLjUgOwogICAgdmVjNCB0eCA9IGZsb29yKGd4ICsgMC41KTsKICAgIGd4ID0gZ3ggLSB0eDsKCiAgICB2ZWMyIGcwMCA9IHZlYzIoZ3gueCxneS54KTsKICAgIHZlYzIgZzEwID0gdmVjMihneC55LGd5LnkpOwogICAgdmVjMiBnMDEgPSB2ZWMyKGd4LnosZ3kueik7CiAgICB2ZWMyIGcxMSA9IHZlYzIoZ3gudyxneS53KTsKCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMCwgZzAwKSwgZG90KGcwMSwgZzAxKSwgZG90KGcxMCwgZzEwKSwgZG90KGcxMSwgZzExKSkpOwogICAgZzAwICo9IG5vcm0ueDsKICAgIGcwMSAqPSBub3JtLnk7CiAgICBnMTAgKj0gbm9ybS56OwogICAgZzExICo9IG5vcm0udzsKCiAgICBmbG9hdCBuMDAgPSBkb3QoZzAwLCB2ZWMyKGZ4LngsIGZ5LngpKTsKICAgIGZsb2F0IG4xMCA9IGRvdChnMTAsIHZlYzIoZngueSwgZnkueSkpOwogICAgZmxvYXQgbjAxID0gZG90KGcwMSwgdmVjMihmeC56LCBmeS56KSk7CiAgICBmbG9hdCBuMTEgPSBkb3QoZzExLCB2ZWMyKGZ4LncsIGZ5LncpKTsKCiAgICB2ZWMyIGZhZGVfeHkgPSBxdWludGljKFBmLnh5KTsKICAgIHZlYzIgbl94ID0gbWl4KHZlYzIobjAwLCBuMDEpLCB2ZWMyKG4xMCwgbjExKSwgZmFkZV94eS54KTsKICAgIGZsb2F0IG5feHkgPSBtaXgobl94LngsIG5feC55LCBmYWRlX3h5LnkpOwogICAgcmV0dXJuIDIuMyAqIG5feHk7Cn0KCmZsb2F0IHBub2lzZShpbiB2ZWMzIFAsIGluIHZlYzMgcmVwKSB7CiAgICB2ZWMzIFBpMCA9IG1vZChmbG9vcihQKSwgcmVwKTsgCiAgICB2ZWMzIFBpMSA9IG1vZChQaTAgKyB2ZWMzKDEuMCksIHJlcCk7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzMgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjMyBQZjEgPSBQZjAgLSB2ZWMzKDEuMCk7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSBQaTAuenp6ejsKICAgIHZlYzQgaXoxID0gUGkxLnp6eno7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwoKICAgIHZlYzQgZ3gwID0gaXh5MCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAgPSBmcmFjdChmbG9vcihneDApICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gwID0gZnJhY3QoZ3gwKTsKICAgIHZlYzQgZ3owID0gdmVjNCgwLjUpIC0gYWJzKGd4MCkgLSBhYnMoZ3kwKTsKICAgIHZlYzQgc3owID0gc3RlcChnejAsIHZlYzQoMC4wKSk7CiAgICBneDAgLT0gc3owICogKHN0ZXAoMC4wLCBneDApIC0gMC41KTsKICAgIGd5MCAtPSBzejAgKiAoc3RlcCgwLjAsIGd5MCkgLSAwLjUpOwoKICAgIHZlYzQgZ3gxID0gaXh5MSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEgPSBmcmFjdChmbG9vcihneDEpICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gxID0gZnJhY3QoZ3gxKTsKICAgIHZlYzQgZ3oxID0gdmVjNCgwLjUpIC0gYWJzKGd4MSkgLSBhYnMoZ3kxKTsKICAgIHZlYzQgc3oxID0gc3RlcChnejEsIHZlYzQoMC4wKSk7CiAgICBneDEgLT0gc3oxICogKHN0ZXAoMC4wLCBneDEpIC0gMC41KTsKICAgIGd5MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd5MSkgLSAwLjUpOwoKICAgIHZlYzMgZzAwMCA9IHZlYzMoZ3gwLngsZ3kwLngsZ3owLngpOwogICAgdmVjMyBnMTAwID0gdmVjMyhneDAueSxneTAueSxnejAueSk7CiAgICB2ZWMzIGcwMTAgPSB2ZWMzKGd4MC56LGd5MC56LGd6MC56KTsKICAgIHZlYzMgZzExMCA9IHZlYzMoZ3gwLncsZ3kwLncsZ3owLncpOwogICAgdmVjMyBnMDAxID0gdmVjMyhneDEueCxneTEueCxnejEueCk7CiAgICB2ZWMzIGcxMDEgPSB2ZWMzKGd4MS55LGd5MS55LGd6MS55KTsKICAgIHZlYzMgZzAxMSA9IHZlYzMoZ3gxLnosZ3kxLnosZ3oxLnopOwogICAgdmVjMyBnMTExID0gdmVjMyhneDEudyxneTEudyxnejEudyk7CgogICAgdmVjNCBub3JtMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMCwgZzAwMCksIGRvdChnMDEwLCBnMDEwKSwgZG90KGcxMDAsIGcxMDApLCBkb3QoZzExMCwgZzExMCkpKTsKICAgIGcwMDAgKj0gbm9ybTAueDsKICAgIGcwMTAgKj0gbm9ybTAueTsKICAgIGcxMDAgKj0gbm9ybTAuejsKICAgIGcxMTAgKj0gbm9ybTAudzsKICAgIHZlYzQgbm9ybTEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEsIGcwMDEpLCBkb3QoZzAxMSwgZzAxMSksIGRvdChnMTAxLCBnMTAxKSwgZG90KGcxMTEsIGcxMTEpKSk7CiAgICBnMDAxICo9IG5vcm0xLng7CiAgICBnMDExICo9IG5vcm0xLnk7CiAgICBnMTAxICo9IG5vcm0xLno7CiAgICBnMTExICo9IG5vcm0xLnc7CgogICAgZmxvYXQgbjAwMCA9IGRvdChnMDAwLCBQZjApOwogICAgZmxvYXQgbjEwMCA9IGRvdChnMTAwLCB2ZWMzKFBmMS54LCBQZjAueXopKTsKICAgIGZsb2F0IG4wMTAgPSBkb3QoZzAxMCwgdmVjMyhQZjAueCwgUGYxLnksIFBmMC56KSk7CiAgICBmbG9hdCBuMTEwID0gZG90KGcxMTAsIHZlYzMoUGYxLnh5LCBQZjAueikpOwogICAgZmxvYXQgbjAwMSA9IGRvdChnMDAxLCB2ZWMzKFBmMC54eSwgUGYxLnopKTsKICAgIGZsb2F0IG4xMDEgPSBkb3QoZzEwMSwgdmVjMyhQZjEueCwgUGYwLnksIFBmMS56KSk7CiAgICBmbG9hdCBuMDExID0gZG90KGcwMTEsIHZlYzMoUGYwLngsIFBmMS55eikpOwogICAgZmxvYXQgbjExMSA9IGRvdChnMTExLCBQZjEpOwoKICAgIHZlYzMgZmFkZV94eXogPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5feiA9IG1peCh2ZWM0KG4wMDAsIG4xMDAsIG4wMTAsIG4xMTApLCB2ZWM0KG4wMDEsIG4xMDEsIG4wMTEsIG4xMTEpLCBmYWRlX3h5ei56KTsKICAgIHZlYzIgbl95eiA9IG1peChuX3oueHksIG5fei56dywgZmFkZV94eXoueSk7CiAgICBmbG9hdCBuX3h5eiA9IG1peChuX3l6LngsIG5feXoueSwgZmFkZV94eXoueCk7CiAgICByZXR1cm4gMi4yICogbl94eXo7Cn0KCmZsb2F0IHBub2lzZShpbiB2ZWM0IFAsIGluIHZlYzQgcmVwKSB7CiAgICB2ZWM0IFBpMCA9IG1vZChmbG9vcihQKSwgcmVwKTsgCiAgICB2ZWM0IFBpMSA9IG1vZChQaTAgKyAxLjAsIHJlcCk7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzQgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjNCBQZjEgPSBQZjAgLSAxLjA7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSB2ZWM0KFBpMC56enp6KTsKICAgIHZlYzQgaXoxID0gdmVjNChQaTEuenp6eik7CiAgICB2ZWM0IGl3MCA9IHZlYzQoUGkwLnd3d3cpOwogICAgdmVjNCBpdzEgPSB2ZWM0KFBpMS53d3d3KTsKCiAgICB2ZWM0IGl4eSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CiAgICB2ZWM0IGl4eTAgPSBwZXJtdXRlKGl4eSArIGl6MCk7CiAgICB2ZWM0IGl4eTEgPSBwZXJtdXRlKGl4eSArIGl6MSk7CiAgICB2ZWM0IGl4eTAwID0gcGVybXV0ZShpeHkwICsgaXcwKTsKICAgIHZlYzQgaXh5MDEgPSBwZXJtdXRlKGl4eTAgKyBpdzEpOwogICAgdmVjNCBpeHkxMCA9IHBlcm11dGUoaXh5MSArIGl3MCk7CiAgICB2ZWM0IGl4eTExID0gcGVybXV0ZShpeHkxICsgaXcxKTsKCiAgICB2ZWM0IGd4MDAgPSBpeHkwMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAwID0gZmxvb3IoZ3gwMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMCA9IGZsb29yKGd5MDApICogKDEuMCAvIDYuMCk7CiAgICBneDAwID0gZnJhY3QoZ3gwMCkgLSAwLjU7CiAgICBneTAwID0gZnJhY3QoZ3kwMCkgLSAwLjU7CiAgICBnejAwID0gZnJhY3QoZ3owMCkgLSAwLjU7CiAgICB2ZWM0IGd3MDAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDApIC0gYWJzKGd5MDApIC0gYWJzKGd6MDApOwogICAgdmVjNCBzdzAwID0gc3RlcChndzAwLCB2ZWM0KDAuMCkpOwogICAgZ3gwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneDAwKSAtIDAuNSk7CiAgICBneTAwIC09IHN3MDAgKiAoc3RlcCgwLjAsIGd5MDApIC0gMC41KTsKCiAgICB2ZWM0IGd4MDEgPSBpeHkwMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAxID0gZmxvb3IoZ3gwMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMSA9IGZsb29yKGd5MDEpICogKDEuMCAvIDYuMCk7CiAgICBneDAxID0gZnJhY3QoZ3gwMSkgLSAwLjU7CiAgICBneTAxID0gZnJhY3QoZ3kwMSkgLSAwLjU7CiAgICBnejAxID0gZnJhY3QoZ3owMSkgLSAwLjU7CiAgICB2ZWM0IGd3MDEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDEpIC0gYWJzKGd5MDEpIC0gYWJzKGd6MDEpOwogICAgdmVjNCBzdzAxID0gc3RlcChndzAxLCB2ZWM0KDAuMCkpOwogICAgZ3gwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneDAxKSAtIDAuNSk7CiAgICBneTAxIC09IHN3MDEgKiAoc3RlcCgwLjAsIGd5MDEpIC0gMC41KTsKCiAgICB2ZWM0IGd4MTAgPSBpeHkxMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEwID0gZmxvb3IoZ3gxMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMCA9IGZsb29yKGd5MTApICogKDEuMCAvIDYuMCk7CiAgICBneDEwID0gZnJhY3QoZ3gxMCkgLSAwLjU7CiAgICBneTEwID0gZnJhY3QoZ3kxMCkgLSAwLjU7CiAgICBnejEwID0gZnJhY3QoZ3oxMCkgLSAwLjU7CiAgICB2ZWM0IGd3MTAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTApIC0gYWJzKGd5MTApIC0gYWJzKGd6MTApOwogICAgdmVjNCBzdzEwID0gc3RlcChndzEwLCB2ZWM0KDAuMCkpOwogICAgZ3gxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneDEwKSAtIDAuNSk7CiAgICBneTEwIC09IHN3MTAgKiAoc3RlcCgwLjAsIGd5MTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MTEgPSBpeHkxMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTExID0gZmxvb3IoZ3gxMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMSA9IGZsb29yKGd5MTEpICogKDEuMCAvIDYuMCk7CiAgICBneDExID0gZnJhY3QoZ3gxMSkgLSAwLjU7CiAgICBneTExID0gZnJhY3QoZ3kxMSkgLSAwLjU7CiAgICBnejExID0gZnJhY3QoZ3oxMSkgLSAwLjU7CiAgICB2ZWM0IGd3MTEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTEpIC0gYWJzKGd5MTEpIC0gYWJzKGd6MTEpOwogICAgdmVjNCBzdzExID0gc3RlcChndzExLCB2ZWM0KDAuMCkpOwogICAgZ3gxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneDExKSAtIDAuNSk7CiAgICBneTExIC09IHN3MTEgKiAoc3RlcCgwLjAsIGd5MTEpIC0gMC41KTsKCiAgICB2ZWM0IGcwMDAwID0gdmVjNChneDAwLngsZ3kwMC54LGd6MDAueCxndzAwLngpOwogICAgdmVjNCBnMTAwMCA9IHZlYzQoZ3gwMC55LGd5MDAueSxnejAwLnksZ3cwMC55KTsKICAgIHZlYzQgZzAxMDAgPSB2ZWM0KGd4MDAueixneTAwLnosZ3owMC56LGd3MDAueik7CiAgICB2ZWM0IGcxMTAwID0gdmVjNChneDAwLncsZ3kwMC53LGd6MDAudyxndzAwLncpOwogICAgdmVjNCBnMDAxMCA9IHZlYzQoZ3gxMC54LGd5MTAueCxnejEwLngsZ3cxMC54KTsKICAgIHZlYzQgZzEwMTAgPSB2ZWM0KGd4MTAueSxneTEwLnksZ3oxMC55LGd3MTAueSk7CiAgICB2ZWM0IGcwMTEwID0gdmVjNChneDEwLnosZ3kxMC56LGd6MTAueixndzEwLnopOwogICAgdmVjNCBnMTExMCA9IHZlYzQoZ3gxMC53LGd5MTAudyxnejEwLncsZ3cxMC53KTsKICAgIHZlYzQgZzAwMDEgPSB2ZWM0KGd4MDEueCxneTAxLngsZ3owMS54LGd3MDEueCk7CiAgICB2ZWM0IGcxMDAxID0gdmVjNChneDAxLnksZ3kwMS55LGd6MDEueSxndzAxLnkpOwogICAgdmVjNCBnMDEwMSA9IHZlYzQoZ3gwMS56LGd5MDEueixnejAxLnosZ3cwMS56KTsKICAgIHZlYzQgZzExMDEgPSB2ZWM0KGd4MDEudyxneTAxLncsZ3owMS53LGd3MDEudyk7CiAgICB2ZWM0IGcwMDExID0gdmVjNChneDExLngsZ3kxMS54LGd6MTEueCxndzExLngpOwogICAgdmVjNCBnMTAxMSA9IHZlYzQoZ3gxMS55LGd5MTEueSxnejExLnksZ3cxMS55KTsKICAgIHZlYzQgZzAxMTEgPSB2ZWM0KGd4MTEueixneTExLnosZ3oxMS56LGd3MTEueik7CiAgICB2ZWM0IGcxMTExID0gdmVjNChneDExLncsZ3kxMS53LGd6MTEudyxndzExLncpOwoKICAgIHZlYzQgbm9ybTAwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwMCwgZzAwMDApLCBkb3QoZzAxMDAsIGcwMTAwKSwgZG90KGcxMDAwLCBnMTAwMCksIGRvdChnMTEwMCwgZzExMDApKSk7CiAgICBnMDAwMCAqPSBub3JtMDAueDsKICAgIGcwMTAwICo9IG5vcm0wMC55OwogICAgZzEwMDAgKj0gbm9ybTAwLno7CiAgICBnMTEwMCAqPSBub3JtMDAudzsKCiAgICB2ZWM0IG5vcm0wMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDEsIGcwMDAxKSwgZG90KGcwMTAxLCBnMDEwMSksIGRvdChnMTAwMSwgZzEwMDEpLCBkb3QoZzExMDEsIGcxMTAxKSkpOwogICAgZzAwMDEgKj0gbm9ybTAxLng7CiAgICBnMDEwMSAqPSBub3JtMDEueTsKICAgIGcxMDAxICo9IG5vcm0wMS56OwogICAgZzExMDEgKj0gbm9ybTAxLnc7CgogICAgdmVjNCBub3JtMTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEwLCBnMDAxMCksIGRvdChnMDExMCwgZzAxMTApLCBkb3QoZzEwMTAsIGcxMDEwKSwgZG90KGcxMTEwLCBnMTExMCkpKTsKICAgIGcwMDEwICo9IG5vcm0xMC54OwogICAgZzAxMTAgKj0gbm9ybTEwLnk7CiAgICBnMTAxMCAqPSBub3JtMTAuejsKICAgIGcxMTEwICo9IG5vcm0xMC53OwoKICAgIHZlYzQgbm9ybTExID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMSwgZzAwMTEpLCBkb3QoZzAxMTEsIGcwMTExKSwgZG90KGcxMDExLCBnMTAxMSksIGRvdChnMTExMSwgZzExMTEpKSk7CiAgICBnMDAxMSAqPSBub3JtMTEueDsKICAgIGcwMTExICo9IG5vcm0xMS55OwogICAgZzEwMTEgKj0gbm9ybTExLno7CiAgICBnMTExMSAqPSBub3JtMTEudzsKCiAgICBmbG9hdCBuMDAwMCA9IGRvdChnMDAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAwID0gZG90KGcxMDAwLCB2ZWM0KFBmMS54LCBQZjAueXp3KSk7CiAgICBmbG9hdCBuMDEwMCA9IGRvdChnMDEwMCwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56dykpOwogICAgZmxvYXQgbjExMDAgPSBkb3QoZzExMDAsIHZlYzQoUGYxLnh5LCBQZjAuencpKTsKICAgIGZsb2F0IG4wMDEwID0gZG90KGcwMDEwLCB2ZWM0KFBmMC54eSwgUGYxLnosIFBmMC53KSk7CiAgICBmbG9hdCBuMTAxMCA9IGRvdChnMTAxMCwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjAxMTAgPSBkb3QoZzAxMTAsIHZlYzQoUGYwLngsIFBmMS55eiwgUGYwLncpKTsKICAgIGZsb2F0IG4xMTEwID0gZG90KGcxMTEwLCB2ZWM0KFBmMS54eXosIFBmMC53KSk7CiAgICBmbG9hdCBuMDAwMSA9IGRvdChnMDAwMSwgdmVjNChQZjAueHl6LCBQZjEudykpOwogICAgZmxvYXQgbjEwMDEgPSBkb3QoZzEwMDEsIHZlYzQoUGYxLngsIFBmMC55eiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMTAxID0gZG90KGcwMTAxLCB2ZWM0KFBmMC54LCBQZjEueSwgUGYwLnosIFBmMS53KSk7CiAgICBmbG9hdCBuMTEwMSA9IGRvdChnMTEwMSwgdmVjNChQZjEueHksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjAwMTEgPSBkb3QoZzAwMTEsIHZlYzQoUGYwLnh5LCBQZjEuencpKTsKICAgIGZsb2F0IG4xMDExID0gZG90KGcxMDExLCB2ZWM0KFBmMS54LCBQZjAueSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMDExMSA9IGRvdChnMDExMSwgdmVjNChQZjAueCwgUGYxLnl6dykpOwogICAgZmxvYXQgbjExMTEgPSBkb3QoZzExMTEsIFBmMSk7CgogICAgdmVjNCBmYWRlX3h5encgPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5fMHcgPSBtaXgodmVjNChuMDAwMCwgbjEwMDAsIG4wMTAwLCBuMTEwMCksIHZlYzQobjAwMDEsIG4xMDAxLCBuMDEwMSwgbjExMDEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fMXcgPSBtaXgodmVjNChuMDAxMCwgbjEwMTAsIG4wMTEwLCBuMTExMCksIHZlYzQobjAwMTEsIG4xMDExLCBuMDExMSwgbjExMTEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fencgPSBtaXgobl8wdywgbl8xdywgZmFkZV94eXp3LnopOwogICAgdmVjMiBuX3l6dyA9IG1peChuX3p3Lnh5LCBuX3p3Lnp3LCBmYWRlX3h5encueSk7CiAgICBmbG9hdCBuX3h5encgPSBtaXgobl95encueCwgbl95encueSwgZmFkZV94eXp3LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6dzsKfQojZW5kaWYKCgoKCgoKI2lmbmRlZiBTUkdCX0VQU0lMT04gCiNkZWZpbmUgU1JHQl9FUFNJTE9OIDAuMDAwMDAwMDEKI2VuZGlmCgojaWZuZGVmIEZOQ19TUkdCMlJHQgojZGVmaW5lIEZOQ19TUkdCMlJHQgoKCgoKZmxvYXQgc3JnYjJyZ2IoZmxvYXQgY2hhbm5lbCkgewogICAgcmV0dXJuIChjaGFubmVsIDwgMC4wNDA0NSkgPyBjaGFubmVsICogMC4wNzczOTkzODA4IDogcG93KChjaGFubmVsICsgMC4wNTUpICogMC45NDc4NjcyOTg1NzgxOTksIDIuNCk7Cn0KCnZlYzMgc3JnYjJyZ2IodmVjMyBzcmdiKSB7CiAgICByZXR1cm4gdmVjMyhzcmdiMnJnYihzcmdiLnIgKyBTUkdCX0VQU0lMT04pLCAKICAgICAgICAgICAgICAgIHNyZ2IycmdiKHNyZ2IuZyArIFNSR0JfRVBTSUxPTiksICAgICAgICAgICAgICAgICBzcmdiMnJnYihzcmdiLmIgKyBTUkdCX0VQU0lMT04pKTsKfQoKdmVjNCBzcmdiMnJnYih2ZWM0IHNyZ2IpIHsKICAgIHJldHVybiB2ZWM0KHNyZ2IycmdiKHNyZ2IucmdiKSwgc3JnYi5hKTsKfQoKI2VuZGlmCgoKI2lmICFkZWZpbmVkKEZOQ19TQVRVUkFURSkgJiYgIWRlZmluZWQoc2F0dXJhdGUpCiNkZWZpbmUgRk5DX1NBVFVSQVRFCiNkZWZpbmUgc2F0dXJhdGUoeCkgY2xhbXAoeCwgMC4wLCAxLjApCiNlbmRpZgoKCgojaWZuZGVmIFNSR0JfRVBTSUxPTiAKI2RlZmluZSBTUkdCX0VQU0lMT04gMC4wMDAwMDAwMQojZW5kaWYKCiNpZm5kZWYgRk5DX1JHQjJTUkdCCiNkZWZpbmUgRk5DX1JHQjJTUkdCCgoKZmxvYXQgcmdiMnNyZ2IoZmxvYXQgY2hhbm5lbCkgewogICAgcmV0dXJuIChjaGFubmVsIDwgMC4wMDMxMzA4KSA/IGNoYW5uZWwgKiAxMi45MiA6IDEuMDU1ICogcG93KGNoYW5uZWwsIDAuNDE2NjY2NjY2NjY2NjY2NykgLSAwLjA1NTsKfQoKdmVjMyByZ2Iyc3JnYih2ZWMzIHJnYikgewogICAgcmV0dXJuIHNhdHVyYXRlKHZlYzMocmdiMnNyZ2IocmdiLnIgLSBTUkdCX0VQU0lMT04pLCByZ2Iyc3JnYihyZ2IuZyAtIFNSR0JfRVBTSUxPTiksIHJnYjJzcmdiKHJnYi5iIC0gU1JHQl9FUFNJTE9OKSkpOwp9Cgp2ZWM0IHJnYjJzcmdiKHZlYzQgcmdiKSB7CiAgICByZXR1cm4gdmVjNChyZ2Iyc3JnYihyZ2IucmdiKSwgcmdiLmEpOwp9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfTUlYT0tMQUIKI2RlZmluZSBGTkNfTUlYT0tMQUIKdmVjMyBtaXhPa2xhYiggdmVjMyBjb2xBLCB2ZWMzIGNvbEIsIGZsb2F0IGggKSB7CgogICAgI2lmZGVmIE1JWE9LTEFCX0NPTE9SU1BBQ0VfU1JHQgogICAgY29sQSA9IHNyZ2IycmdiKGNvbEEpOwogICAgY29sQiA9IHNyZ2IycmdiKGNvbEIpOwogICAgI2VuZGlmCgogICAgCiAgICBjb25zdCBtYXQzIGtDT05FdG9MTVMgPSBtYXQzKCAgICAgICAgICAgICAgICAKICAgICAgICAgMC40MTIxNjU2MTIwLCAgMC4yMTE4NTkxMDcwLCAgMC4wODgzMDk3OTQ3LAogICAgICAgICAwLjUzNjI3NTIwODAsICAwLjY4MDcxODk1ODQsICAwLjI4MTg0NzQxNzQsCiAgICAgICAgIDAuMDUxNDU3NTY1MywgIDAuMTA3NDA2NTc5MCwgIDAuNjMwMjYxMzYxNik7CiAgICBjb25zdCBtYXQzIGtMTVN0b0NPTkUgPSBtYXQzKAogICAgICAgICA0LjA3NjcyNDUyOTMsIC0xLjI2ODE0Mzc3MzEsIC0wLjAwNDExMTk4ODUsCiAgICAgICAgLTMuMzA3MjE2ODgyNywgIDIuNjA5MzMyMzIzMSwgLTAuNzAzNDc2MzA5OCwKICAgICAgICAgMC4yMzA3NTkwNTQ0LCAtMC4zNDExMzQ0MjkwLCAgMS43MDY4NjI1Njg5KTsKICAgICAgICAgICAgICAgICAgICAKICAgIAogICAgdmVjMyBsbXNBID0gcG93KCBrQ09ORXRvTE1TICogY29sQSwgdmVjMygxLjAvMy4wKSApOwogICAgdmVjMyBsbXNCID0gcG93KCBrQ09ORXRvTE1TICogY29sQiwgdmVjMygxLjAvMy4wKSApOwogICAgCiAgICB2ZWMzIGxtcyA9IG1peCggbG1zQSwgbG1zQiwgaCApOwogICAgCiAgICAKICAgIHZlYzMgcmdiID0ga0xNU3RvQ09ORSoobG1zKmxtcypsbXMpOwoKICAgICNpZmRlZiBNSVhPS0xBQl9DT0xPUlNQQUNFX1NSR0IKICAgIHJldHVybiByZ2Iyc3JnYihyZ2IpOwogICAgI2Vsc2UKICAgIHJldHVybiByZ2I7CiAgICAjZW5kaWYKfQoKdmVjNCBtaXhPa2xhYiggdmVjNCBjb2xBLCB2ZWM0IGNvbEIsIGZsb2F0IGggKSB7CiAgICByZXR1cm4gdmVjNCggbWl4T2tsYWIoY29sQS5yZ2IsIGNvbEIucmdiLCBoKSwgbWl4KGNvbEEuYSwgY29sQi5hLCBoKSApOwp9CiNlbmRpZgoKCgp2b2lkIG1haW4oKSB7CgogIHZlYzIgcGl4ZWwgPSAxLjAvdV9yZXNvbHV0aW9uLnh5OwoKICB2ZWMyIHN0ID0gZ2xfRnJhZ0Nvb3JkLnh5ICogcGl4ZWw7CgogICAgCgogIGZsb2F0IGRpc3RvcnQgPSB2RGlzcGxhY2VtZW50ICogdV9pbnRlbnNpdHk7CgogIHZlYzIgdmFsID0gYWJzKHZVdiAtIDAuNSkgKiAzLjAgICogKDEuMCAtIGRpc3RvcnQpOwoKICAKCiAgdmVjNCBjb2xvciA9IHZlYzQodmVjMyh2YWwsdV9jb2xvcnNbMF0uYiksMS4wKTsKCiAgY29sb3IgPSBtaXhPa2xhYih1X2NvbG9yc1swXSwgdV9jb2xvcnNbMV0sIHZEaXNwbGFjZW1lbnQpOwoKICAKCiAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7Cgp9CgpgLAogICAgICAgICAgICAgICAgdmVydGV4U2hhZGVyOiBgLy9HZW9tZXRyeTogcGxhbmUKCi8vT3JiaXRDb250cm9sczogZmFsc2UKCi8vR2VvbWV0cnktYXJnczogWzMsMSwyMDQ4XQoKLy9NZXNoLXNjYWxlOiAxLjUKCi8vTWVzaC1yb3RhdGlvbjogWy0wLjc1LDAuMjUsLTAuMjVdCgovL2NhbWVyYS1wb3NpdGlvbjogWzAuMCwgMC4wLCAyLjBdCgovL3NoYWRlci13aXJlZnJhbWU6IGZhbHNlIAoKCgp1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5OwoKdW5pZm9ybSBmbG9hdCB1X3RpbWU7Cgp1bmlmb3JtIGZsb2F0IHVfc3BlZWQ7Cgp1bmlmb3JtIGJvb2wgdV9yb3RhdGU7Cgp1bmlmb3JtIGZsb2F0IHVfc2NhbGU7CgoKCnZhcnlpbmcgdmVjMiB2VXY7Cgp2YXJ5aW5nIGZsb2F0IHZEaXNwbGFjZW1lbnQ7Cgp2YXJ5aW5nIHZlYzMgcG9zOwoKCgoKCgoKI2lmbmRlZiBGTkNfTU9EMjg5CiNkZWZpbmUgRk5DX01PRDI4OQoKZmxvYXQgbW9kMjg5KGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMyIG1vZDI4OShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWMzIG1vZDI4OShjb25zdCBpbiB2ZWMzIHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQp2ZWM0IG1vZDI4OShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIHggLSBmbG9vcih4ICogKDEuIC8gMjg5LikpICogMjg5LjsgfQoKI2VuZGlmCgoKCgoKI2lmbmRlZiBGTkNfUEVSTVVURQojZGVmaW5lIEZOQ19QRVJNVVRFCgpmbG9hdCBwZXJtdXRlKGNvbnN0IGluIGZsb2F0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMyIHBlcm11dGUoY29uc3QgaW4gdmVjMiB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjMyBwZXJtdXRlKGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzQgcGVybXV0ZShjb25zdCBpbiB2ZWM0IHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX1RBWUxPUklOVlNRUlQKI2RlZmluZSBGTkNfVEFZTE9SSU5WU1FSVApmbG9hdCB0YXlsb3JJbnZTcXJ0KGluIGZsb2F0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMyIHRheWxvckludlNxcnQoaW4gdmVjMiByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjMyB0YXlsb3JJbnZTcXJ0KGluIHZlYzMgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzQgdGF5bG9ySW52U3FydChpbiB2ZWM0IHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX0NOT0lTRQojZGVmaW5lIEZOQ19DTk9JU0UKCmZsb2F0IGNub2lzZShpbiB2ZWMyIFApIHsKICAgIHZlYzQgUGkgPSBmbG9vcihQLnh5eHkpICsgdmVjNCgwLjAsIDAuMCwgMS4wLCAxLjApOwogICAgdmVjNCBQZiA9IGZyYWN0KFAueHl4eSkgLSB2ZWM0KDAuMCwgMC4wLCAxLjAsIDEuMCk7CiAgICBQaSA9IG1vZDI4OShQaSk7IAogICAgdmVjNCBpeCA9IFBpLnh6eHo7CiAgICB2ZWM0IGl5ID0gUGkueXl3dzsKICAgIHZlYzQgZnggPSBQZi54enh6OwogICAgdmVjNCBmeSA9IFBmLnl5d3c7CgogICAgdmVjNCBpID0gcGVybXV0ZShwZXJtdXRlKGl4KSArIGl5KTsKCiAgICB2ZWM0IGd4ID0gZnJhY3QoaSAqICgxLjAgLyA0MS4wKSkgKiAyLjAgLSAxLjAgOwogICAgdmVjNCBneSA9IGFicyhneCkgLSAwLjUgOwogICAgdmVjNCB0eCA9IGZsb29yKGd4ICsgMC41KTsKICAgIGd4ID0gZ3ggLSB0eDsKCiAgICB2ZWMyIGcwMCA9IHZlYzIoZ3gueCxneS54KTsKICAgIHZlYzIgZzEwID0gdmVjMihneC55LGd5LnkpOwogICAgdmVjMiBnMDEgPSB2ZWMyKGd4LnosZ3kueik7CiAgICB2ZWMyIGcxMSA9IHZlYzIoZ3gudyxneS53KTsKCiAgICB2ZWM0IG5vcm0gPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMCwgZzAwKSwgZG90KGcwMSwgZzAxKSwgZG90KGcxMCwgZzEwKSwgZG90KGcxMSwgZzExKSkpOwogICAgZzAwICo9IG5vcm0ueDsKICAgIGcwMSAqPSBub3JtLnk7CiAgICBnMTAgKj0gbm9ybS56OwogICAgZzExICo9IG5vcm0udzsKCiAgICBmbG9hdCBuMDAgPSBkb3QoZzAwLCB2ZWMyKGZ4LngsIGZ5LngpKTsKICAgIGZsb2F0IG4xMCA9IGRvdChnMTAsIHZlYzIoZngueSwgZnkueSkpOwogICAgZmxvYXQgbjAxID0gZG90KGcwMSwgdmVjMihmeC56LCBmeS56KSk7CiAgICBmbG9hdCBuMTEgPSBkb3QoZzExLCB2ZWMyKGZ4LncsIGZ5LncpKTsKCiAgICB2ZWMyIGZhZGVfeHkgPSBxdWludGljKFBmLnh5KTsKICAgIHZlYzIgbl94ID0gbWl4KHZlYzIobjAwLCBuMDEpLCB2ZWMyKG4xMCwgbjExKSwgZmFkZV94eS54KTsKICAgIGZsb2F0IG5feHkgPSBtaXgobl94LngsIG5feC55LCBmYWRlX3h5LnkpOwogICAgcmV0dXJuIDIuMyAqIG5feHk7Cn0KCmZsb2F0IGNub2lzZShpbiB2ZWMzIFApIHsKICAgIHZlYzMgUGkwID0gZmxvb3IoUCk7IAogICAgdmVjMyBQaTEgPSBQaTAgKyB2ZWMzKDEuMCk7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzMgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjMyBQZjEgPSBQZjAgLSB2ZWMzKDEuMCk7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSBQaTAuenp6ejsKICAgIHZlYzQgaXoxID0gUGkxLnp6eno7CgogICAgdmVjNCBpeHkgPSBwZXJtdXRlKHBlcm11dGUoaXgpICsgaXkpOwogICAgdmVjNCBpeHkwID0gcGVybXV0ZShpeHkgKyBpejApOwogICAgdmVjNCBpeHkxID0gcGVybXV0ZShpeHkgKyBpejEpOwoKICAgIHZlYzQgZ3gwID0gaXh5MCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAgPSBmcmFjdChmbG9vcihneDApICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gwID0gZnJhY3QoZ3gwKTsKICAgIHZlYzQgZ3owID0gdmVjNCgwLjUpIC0gYWJzKGd4MCkgLSBhYnMoZ3kwKTsKICAgIHZlYzQgc3owID0gc3RlcChnejAsIHZlYzQoMC4wKSk7CiAgICBneDAgLT0gc3owICogKHN0ZXAoMC4wLCBneDApIC0gMC41KTsKICAgIGd5MCAtPSBzejAgKiAoc3RlcCgwLjAsIGd5MCkgLSAwLjUpOwoKICAgIHZlYzQgZ3gxID0gaXh5MSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEgPSBmcmFjdChmbG9vcihneDEpICogKDEuMCAvIDcuMCkpIC0gMC41OwogICAgZ3gxID0gZnJhY3QoZ3gxKTsKICAgIHZlYzQgZ3oxID0gdmVjNCgwLjUpIC0gYWJzKGd4MSkgLSBhYnMoZ3kxKTsKICAgIHZlYzQgc3oxID0gc3RlcChnejEsIHZlYzQoMC4wKSk7CiAgICBneDEgLT0gc3oxICogKHN0ZXAoMC4wLCBneDEpIC0gMC41KTsKICAgIGd5MSAtPSBzejEgKiAoc3RlcCgwLjAsIGd5MSkgLSAwLjUpOwoKICAgIHZlYzMgZzAwMCA9IHZlYzMoZ3gwLngsZ3kwLngsZ3owLngpOwogICAgdmVjMyBnMTAwID0gdmVjMyhneDAueSxneTAueSxnejAueSk7CiAgICB2ZWMzIGcwMTAgPSB2ZWMzKGd4MC56LGd5MC56LGd6MC56KTsKICAgIHZlYzMgZzExMCA9IHZlYzMoZ3gwLncsZ3kwLncsZ3owLncpOwogICAgdmVjMyBnMDAxID0gdmVjMyhneDEueCxneTEueCxnejEueCk7CiAgICB2ZWMzIGcxMDEgPSB2ZWMzKGd4MS55LGd5MS55LGd6MS55KTsKICAgIHZlYzMgZzAxMSA9IHZlYzMoZ3gxLnosZ3kxLnosZ3oxLnopOwogICAgdmVjMyBnMTExID0gdmVjMyhneDEudyxneTEudyxnejEudyk7CgogICAgdmVjNCBub3JtMCA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMCwgZzAwMCksIGRvdChnMDEwLCBnMDEwKSwgZG90KGcxMDAsIGcxMDApLCBkb3QoZzExMCwgZzExMCkpKTsKICAgIGcwMDAgKj0gbm9ybTAueDsKICAgIGcwMTAgKj0gbm9ybTAueTsKICAgIGcxMDAgKj0gbm9ybTAuejsKICAgIGcxMTAgKj0gbm9ybTAudzsKICAgIHZlYzQgbm9ybTEgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEsIGcwMDEpLCBkb3QoZzAxMSwgZzAxMSksIGRvdChnMTAxLCBnMTAxKSwgZG90KGcxMTEsIGcxMTEpKSk7CiAgICBnMDAxICo9IG5vcm0xLng7CiAgICBnMDExICo9IG5vcm0xLnk7CiAgICBnMTAxICo9IG5vcm0xLno7CiAgICBnMTExICo9IG5vcm0xLnc7CgogICAgZmxvYXQgbjAwMCA9IGRvdChnMDAwLCBQZjApOwogICAgZmxvYXQgbjEwMCA9IGRvdChnMTAwLCB2ZWMzKFBmMS54LCBQZjAueXopKTsKICAgIGZsb2F0IG4wMTAgPSBkb3QoZzAxMCwgdmVjMyhQZjAueCwgUGYxLnksIFBmMC56KSk7CiAgICBmbG9hdCBuMTEwID0gZG90KGcxMTAsIHZlYzMoUGYxLnh5LCBQZjAueikpOwogICAgZmxvYXQgbjAwMSA9IGRvdChnMDAxLCB2ZWMzKFBmMC54eSwgUGYxLnopKTsKICAgIGZsb2F0IG4xMDEgPSBkb3QoZzEwMSwgdmVjMyhQZjEueCwgUGYwLnksIFBmMS56KSk7CiAgICBmbG9hdCBuMDExID0gZG90KGcwMTEsIHZlYzMoUGYwLngsIFBmMS55eikpOwogICAgZmxvYXQgbjExMSA9IGRvdChnMTExLCBQZjEpOwoKICAgIHZlYzMgZmFkZV94eXogPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5feiA9IG1peCh2ZWM0KG4wMDAsIG4xMDAsIG4wMTAsIG4xMTApLCB2ZWM0KG4wMDEsIG4xMDEsIG4wMTEsIG4xMTEpLCBmYWRlX3h5ei56KTsKICAgIHZlYzIgbl95eiA9IG1peChuX3oueHksIG5fei56dywgZmFkZV94eXoueSk7CiAgICBmbG9hdCBuX3h5eiA9IG1peChuX3l6LngsIG5feXoueSwgZmFkZV94eXoueCk7CiAgICByZXR1cm4gMi4yICogbl94eXo7Cn0KCmZsb2F0IGNub2lzZShpbiB2ZWM0IFApIHsKICAgIHZlYzQgUGkwID0gZmxvb3IoUCk7IAogICAgdmVjNCBQaTEgPSBQaTAgKyAxLjA7IAogICAgUGkwID0gbW9kMjg5KFBpMCk7CiAgICBQaTEgPSBtb2QyODkoUGkxKTsKICAgIHZlYzQgUGYwID0gZnJhY3QoUCk7IAogICAgdmVjNCBQZjEgPSBQZjAgLSAxLjA7IAogICAgdmVjNCBpeCA9IHZlYzQoUGkwLngsIFBpMS54LCBQaTAueCwgUGkxLngpOwogICAgdmVjNCBpeSA9IHZlYzQoUGkwLnl5LCBQaTEueXkpOwogICAgdmVjNCBpejAgPSB2ZWM0KFBpMC56enp6KTsKICAgIHZlYzQgaXoxID0gdmVjNChQaTEuenp6eik7CiAgICB2ZWM0IGl3MCA9IHZlYzQoUGkwLnd3d3cpOwogICAgdmVjNCBpdzEgPSB2ZWM0KFBpMS53d3d3KTsKCiAgICB2ZWM0IGl4eSA9IHBlcm11dGUocGVybXV0ZShpeCkgKyBpeSk7CiAgICB2ZWM0IGl4eTAgPSBwZXJtdXRlKGl4eSArIGl6MCk7CiAgICB2ZWM0IGl4eTEgPSBwZXJtdXRlKGl4eSArIGl6MSk7CiAgICB2ZWM0IGl4eTAwID0gcGVybXV0ZShpeHkwICsgaXcwKTsKICAgIHZlYzQgaXh5MDEgPSBwZXJtdXRlKGl4eTAgKyBpdzEpOwogICAgdmVjNCBpeHkxMCA9IHBlcm11dGUoaXh5MSArIGl3MCk7CiAgICB2ZWM0IGl4eTExID0gcGVybXV0ZShpeHkxICsgaXcxKTsKCiAgICB2ZWM0IGd4MDAgPSBpeHkwMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAwID0gZmxvb3IoZ3gwMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMCA9IGZsb29yKGd5MDApICogKDEuMCAvIDYuMCk7CiAgICBneDAwID0gZnJhY3QoZ3gwMCkgLSAwLjU7CiAgICBneTAwID0gZnJhY3QoZ3kwMCkgLSAwLjU7CiAgICBnejAwID0gZnJhY3QoZ3owMCkgLSAwLjU7CiAgICB2ZWM0IGd3MDAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDApIC0gYWJzKGd5MDApIC0gYWJzKGd6MDApOwogICAgdmVjNCBzdzAwID0gc3RlcChndzAwLCB2ZWM0KDAuMCkpOwogICAgZ3gwMCAtPSBzdzAwICogKHN0ZXAoMC4wLCBneDAwKSAtIDAuNSk7CiAgICBneTAwIC09IHN3MDAgKiAoc3RlcCgwLjAsIGd5MDApIC0gMC41KTsKCiAgICB2ZWM0IGd4MDEgPSBpeHkwMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTAxID0gZmxvb3IoZ3gwMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3owMSA9IGZsb29yKGd5MDEpICogKDEuMCAvIDYuMCk7CiAgICBneDAxID0gZnJhY3QoZ3gwMSkgLSAwLjU7CiAgICBneTAxID0gZnJhY3QoZ3kwMSkgLSAwLjU7CiAgICBnejAxID0gZnJhY3QoZ3owMSkgLSAwLjU7CiAgICB2ZWM0IGd3MDEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MDEpIC0gYWJzKGd5MDEpIC0gYWJzKGd6MDEpOwogICAgdmVjNCBzdzAxID0gc3RlcChndzAxLCB2ZWM0KDAuMCkpOwogICAgZ3gwMSAtPSBzdzAxICogKHN0ZXAoMC4wLCBneDAxKSAtIDAuNSk7CiAgICBneTAxIC09IHN3MDEgKiAoc3RlcCgwLjAsIGd5MDEpIC0gMC41KTsKCiAgICB2ZWM0IGd4MTAgPSBpeHkxMCAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTEwID0gZmxvb3IoZ3gxMCkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMCA9IGZsb29yKGd5MTApICogKDEuMCAvIDYuMCk7CiAgICBneDEwID0gZnJhY3QoZ3gxMCkgLSAwLjU7CiAgICBneTEwID0gZnJhY3QoZ3kxMCkgLSAwLjU7CiAgICBnejEwID0gZnJhY3QoZ3oxMCkgLSAwLjU7CiAgICB2ZWM0IGd3MTAgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTApIC0gYWJzKGd5MTApIC0gYWJzKGd6MTApOwogICAgdmVjNCBzdzEwID0gc3RlcChndzEwLCB2ZWM0KDAuMCkpOwogICAgZ3gxMCAtPSBzdzEwICogKHN0ZXAoMC4wLCBneDEwKSAtIDAuNSk7CiAgICBneTEwIC09IHN3MTAgKiAoc3RlcCgwLjAsIGd5MTApIC0gMC41KTsKCiAgICB2ZWM0IGd4MTEgPSBpeHkxMSAqICgxLjAgLyA3LjApOwogICAgdmVjNCBneTExID0gZmxvb3IoZ3gxMSkgKiAoMS4wIC8gNy4wKTsKICAgIHZlYzQgZ3oxMSA9IGZsb29yKGd5MTEpICogKDEuMCAvIDYuMCk7CiAgICBneDExID0gZnJhY3QoZ3gxMSkgLSAwLjU7CiAgICBneTExID0gZnJhY3QoZ3kxMSkgLSAwLjU7CiAgICBnejExID0gZnJhY3QoZ3oxMSkgLSAwLjU7CiAgICB2ZWM0IGd3MTEgPSB2ZWM0KDAuNzUpIC0gYWJzKGd4MTEpIC0gYWJzKGd5MTEpIC0gYWJzKGd6MTEpOwogICAgdmVjNCBzdzExID0gc3RlcChndzExLCB2ZWM0KDAuMCkpOwogICAgZ3gxMSAtPSBzdzExICogKHN0ZXAoMC4wLCBneDExKSAtIDAuNSk7CiAgICBneTExIC09IHN3MTEgKiAoc3RlcCgwLjAsIGd5MTEpIC0gMC41KTsKCiAgICB2ZWM0IGcwMDAwID0gdmVjNChneDAwLngsZ3kwMC54LGd6MDAueCxndzAwLngpOwogICAgdmVjNCBnMTAwMCA9IHZlYzQoZ3gwMC55LGd5MDAueSxnejAwLnksZ3cwMC55KTsKICAgIHZlYzQgZzAxMDAgPSB2ZWM0KGd4MDAueixneTAwLnosZ3owMC56LGd3MDAueik7CiAgICB2ZWM0IGcxMTAwID0gdmVjNChneDAwLncsZ3kwMC53LGd6MDAudyxndzAwLncpOwogICAgdmVjNCBnMDAxMCA9IHZlYzQoZ3gxMC54LGd5MTAueCxnejEwLngsZ3cxMC54KTsKICAgIHZlYzQgZzEwMTAgPSB2ZWM0KGd4MTAueSxneTEwLnksZ3oxMC55LGd3MTAueSk7CiAgICB2ZWM0IGcwMTEwID0gdmVjNChneDEwLnosZ3kxMC56LGd6MTAueixndzEwLnopOwogICAgdmVjNCBnMTExMCA9IHZlYzQoZ3gxMC53LGd5MTAudyxnejEwLncsZ3cxMC53KTsKICAgIHZlYzQgZzAwMDEgPSB2ZWM0KGd4MDEueCxneTAxLngsZ3owMS54LGd3MDEueCk7CiAgICB2ZWM0IGcxMDAxID0gdmVjNChneDAxLnksZ3kwMS55LGd6MDEueSxndzAxLnkpOwogICAgdmVjNCBnMDEwMSA9IHZlYzQoZ3gwMS56LGd5MDEueixnejAxLnosZ3cwMS56KTsKICAgIHZlYzQgZzExMDEgPSB2ZWM0KGd4MDEudyxneTAxLncsZ3owMS53LGd3MDEudyk7CiAgICB2ZWM0IGcwMDExID0gdmVjNChneDExLngsZ3kxMS54LGd6MTEueCxndzExLngpOwogICAgdmVjNCBnMTAxMSA9IHZlYzQoZ3gxMS55LGd5MTEueSxnejExLnksZ3cxMS55KTsKICAgIHZlYzQgZzAxMTEgPSB2ZWM0KGd4MTEueixneTExLnosZ3oxMS56LGd3MTEueik7CiAgICB2ZWM0IGcxMTExID0gdmVjNChneDExLncsZ3kxMS53LGd6MTEudyxndzExLncpOwoKICAgIHZlYzQgbm9ybTAwID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAwMCwgZzAwMDApLCBkb3QoZzAxMDAsIGcwMTAwKSwgZG90KGcxMDAwLCBnMTAwMCksIGRvdChnMTEwMCwgZzExMDApKSk7CiAgICBnMDAwMCAqPSBub3JtMDAueDsKICAgIGcwMTAwICo9IG5vcm0wMC55OwogICAgZzEwMDAgKj0gbm9ybTAwLno7CiAgICBnMTEwMCAqPSBub3JtMDAudzsKCiAgICB2ZWM0IG5vcm0wMSA9IHRheWxvckludlNxcnQodmVjNChkb3QoZzAwMDEsIGcwMDAxKSwgZG90KGcwMTAxLCBnMDEwMSksIGRvdChnMTAwMSwgZzEwMDEpLCBkb3QoZzExMDEsIGcxMTAxKSkpOwogICAgZzAwMDEgKj0gbm9ybTAxLng7CiAgICBnMDEwMSAqPSBub3JtMDEueTsKICAgIGcxMDAxICo9IG5vcm0wMS56OwogICAgZzExMDEgKj0gbm9ybTAxLnc7CgogICAgdmVjNCBub3JtMTAgPSB0YXlsb3JJbnZTcXJ0KHZlYzQoZG90KGcwMDEwLCBnMDAxMCksIGRvdChnMDExMCwgZzAxMTApLCBkb3QoZzEwMTAsIGcxMDEwKSwgZG90KGcxMTEwLCBnMTExMCkpKTsKICAgIGcwMDEwICo9IG5vcm0xMC54OwogICAgZzAxMTAgKj0gbm9ybTEwLnk7CiAgICBnMTAxMCAqPSBub3JtMTAuejsKICAgIGcxMTEwICo9IG5vcm0xMC53OwoKICAgIHZlYzQgbm9ybTExID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChnMDAxMSwgZzAwMTEpLCBkb3QoZzAxMTEsIGcwMTExKSwgZG90KGcxMDExLCBnMTAxMSksIGRvdChnMTExMSwgZzExMTEpKSk7CiAgICBnMDAxMSAqPSBub3JtMTEueDsKICAgIGcwMTExICo9IG5vcm0xMS55OwogICAgZzEwMTEgKj0gbm9ybTExLno7CiAgICBnMTExMSAqPSBub3JtMTEudzsKCiAgICBmbG9hdCBuMDAwMCA9IGRvdChnMDAwMCwgUGYwKTsKICAgIGZsb2F0IG4xMDAwID0gZG90KGcxMDAwLCB2ZWM0KFBmMS54LCBQZjAueXp3KSk7CiAgICBmbG9hdCBuMDEwMCA9IGRvdChnMDEwMCwgdmVjNChQZjAueCwgUGYxLnksIFBmMC56dykpOwogICAgZmxvYXQgbjExMDAgPSBkb3QoZzExMDAsIHZlYzQoUGYxLnh5LCBQZjAuencpKTsKICAgIGZsb2F0IG4wMDEwID0gZG90KGcwMDEwLCB2ZWM0KFBmMC54eSwgUGYxLnosIFBmMC53KSk7CiAgICBmbG9hdCBuMTAxMCA9IGRvdChnMTAxMCwgdmVjNChQZjEueCwgUGYwLnksIFBmMS56LCBQZjAudykpOwogICAgZmxvYXQgbjAxMTAgPSBkb3QoZzAxMTAsIHZlYzQoUGYwLngsIFBmMS55eiwgUGYwLncpKTsKICAgIGZsb2F0IG4xMTEwID0gZG90KGcxMTEwLCB2ZWM0KFBmMS54eXosIFBmMC53KSk7CiAgICBmbG9hdCBuMDAwMSA9IGRvdChnMDAwMSwgdmVjNChQZjAueHl6LCBQZjEudykpOwogICAgZmxvYXQgbjEwMDEgPSBkb3QoZzEwMDEsIHZlYzQoUGYxLngsIFBmMC55eiwgUGYxLncpKTsKICAgIGZsb2F0IG4wMTAxID0gZG90KGcwMTAxLCB2ZWM0KFBmMC54LCBQZjEueSwgUGYwLnosIFBmMS53KSk7CiAgICBmbG9hdCBuMTEwMSA9IGRvdChnMTEwMSwgdmVjNChQZjEueHksIFBmMC56LCBQZjEudykpOwogICAgZmxvYXQgbjAwMTEgPSBkb3QoZzAwMTEsIHZlYzQoUGYwLnh5LCBQZjEuencpKTsKICAgIGZsb2F0IG4xMDExID0gZG90KGcxMDExLCB2ZWM0KFBmMS54LCBQZjAueSwgUGYxLnp3KSk7CiAgICBmbG9hdCBuMDExMSA9IGRvdChnMDExMSwgdmVjNChQZjAueCwgUGYxLnl6dykpOwogICAgZmxvYXQgbjExMTEgPSBkb3QoZzExMTEsIFBmMSk7CgogICAgdmVjNCBmYWRlX3h5encgPSBxdWludGljKFBmMCk7CiAgICB2ZWM0IG5fMHcgPSBtaXgodmVjNChuMDAwMCwgbjEwMDAsIG4wMTAwLCBuMTEwMCksIHZlYzQobjAwMDEsIG4xMDAxLCBuMDEwMSwgbjExMDEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fMXcgPSBtaXgodmVjNChuMDAxMCwgbjEwMTAsIG4wMTEwLCBuMTExMCksIHZlYzQobjAwMTEsIG4xMDExLCBuMDExMSwgbjExMTEpLCBmYWRlX3h5encudyk7CiAgICB2ZWM0IG5fencgPSBtaXgobl8wdywgbl8xdywgZmFkZV94eXp3LnopOwogICAgdmVjMiBuX3l6dyA9IG1peChuX3p3Lnh5LCBuX3p3Lnp3LCBmYWRlX3h5encueSk7CiAgICBmbG9hdCBuX3h5encgPSBtaXgobl95encueCwgbl95encueSwgZmFkZV94eXp3LngpOwogICAgcmV0dXJuIDIuMiAqIG5feHl6dzsKfQojZW5kaWYKCgoKCgoKI2lmbmRlZiBSQU5ET01fU0NBTEUKI2lmIGRlZmluZWQoUkFORE9NX0hJR0hFUl9SQU5HRSkKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCguMTAzMSwgLjEwMzAsIC4wOTczLCAuMTA5OSkKI2Vsc2UKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCg0NDMuODk3LCA0NDEuNDIzLCAuMDk3MywgLjEwOTkpCiNlbmRpZgojZW5kaWYKCiNpZm5kZWYgRk5DX1JBTkRPTQojZGVmaW5lIEZOQ19SQU5ET00KZmxvYXQgcmFuZG9tKGluIGZsb2F0IHgpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB4ID0gZnJhY3QoeCAqIFJBTkRPTV9TQ0FMRS54KTsKICAgIHggKj0geCArIDMzLjMzOwogICAgeCAqPSB4ICsgeDsKICAgIHJldHVybiBmcmFjdCh4KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMyIHN0KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgdmVjMyBwMyAgPSBmcmFjdCh2ZWMzKHN0Lnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzMgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zICA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy56eXggKyAzMS4zMik7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogcG9zLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWM0IHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnd6eHkrMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIChwb3MueiArIHBvcy53KSk7CiNlbHNlCiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCnZlYzIgcmFuZG9tMihmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QocC54eXggKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzMgcDMpIHsKICAgIHAzID0gZnJhY3QocDMgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMyByYW5kb20zKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7IAp9Cgp2ZWMzIHJhbmRvbTModmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwLnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsKfQoKdmVjMyByYW5kb20zKHZlYzMgcCkgewogICAgcCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAgKz0gZG90KHAsIHAueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwLnh4eSArIHAueXp6KSAqIHAuenl4KTsKfQoKdmVjNCByYW5kb200KGZsb2F0IHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7ICAgCn0KCnZlYzQgcmFuZG9tNCh2ZWMyIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5eHkgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzMgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl6eCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzQgcDQpIHsKICAgIHA0ID0gZnJhY3QocDQgICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfU1JBTkRPTQojZGVmaW5lIEZOQ19TUkFORE9NCgpmbG9hdCBzcmFuZG9tKGluIGZsb2F0IHgpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMyIHN0KSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdChzdC54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWMzIHBvcykgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKfQoKZmxvYXQgc3JhbmRvbShpbiB2ZWM0IHBvcykgewogICAgZmxvYXQgZG90X3Byb2R1Y3QgPSBkb3QocG9zLCB2ZWM0KDEyLjk4OTgsNzguMjMzLDQ1LjE2NCw5NC42NzMpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKfQoKdmVjMiBzcmFuZG9tMihpbiB2ZWMyIHN0KSB7CiAgICBjb25zdCB2ZWMyIGsgPSB2ZWMyKC4zMTgzMDk5LCAuMzY3ODc5NCk7CiAgICBzdCA9IHN0ICogayArIGsueXg7CiAgICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdCgxNi4gKiBrICogZnJhY3Qoc3QueCAqIHN0LnkgKiAoc3QueCArIHN0LnkpKSk7Cn0KCnZlYzMgc3JhbmRvbTMoaW4gdmVjMyBwKSB7CiAgICBwID0gdmVjMyggZG90KHAsIHZlYzMoMTI3LjEsIDMxMS43LCA3NC43KSksCiAgICAgICAgICAgIGRvdChwLCB2ZWMzKDI2OS41LCAxODMuMywgMjQ2LjEpKSwKICAgICAgICAgICAgZG90KHAsIHZlYzMoMTEzLjUsIDI3MS45LCAxMjQuNikpKTsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbihwKSAqIDQzNzU4LjU0NTMxMjMpOwp9Cgp2ZWMyIHNyYW5kb20yKGluIHZlYzIgcCwgY29uc3QgaW4gZmxvYXQgdGlsZUxlbmd0aCkgewogICAgcCA9IG1vZChwLCB2ZWMyKHRpbGVMZW5ndGgpKTsKICAgIHJldHVybiBzcmFuZG9tMihwKTsKfQoKdmVjMyBzcmFuZG9tMyhpbiB2ZWMzIHAsIGNvbnN0IGluIGZsb2F0IHRpbGVMZW5ndGgpIHsKICAgIHAgPSBtb2QocCwgdmVjMyh0aWxlTGVuZ3RoKSk7CiAgICByZXR1cm4gc3JhbmRvbTMocCk7Cn0KCiNlbmRpZgoKCiNpZm5kZWYgRk5DX0NVQklDCiNkZWZpbmUgRk5DX0NVQklDIApmbG9hdCBjdWJpYyhjb25zdCBpbiBmbG9hdCB2KSB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjMiAgY3ViaWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzMgIGN1YmljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWM0ICBjdWJpYyhjb25zdCBpbiB2ZWM0IHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KCmZsb2F0IGN1YmljKGNvbnN0IGluIGZsb2F0IHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIGZsb2F0IHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICBmbG9hdCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjMiBjdWJpYyhjb25zdCBpbiB2ZWMyIHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzIgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzIgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzMgY3ViaWMoY29uc3QgaW4gdmVjMyB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWMzIHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWMzIHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWM0IGN1YmljKGNvbnN0IGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjNCB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjNCB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQojZW5kaWYKCgojaWZuZGVmIEZOQ19RVUlOVElDCiNkZWZpbmUgRk5DX1FVSU5USUMgCgpmbG9hdCBxdWludGljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMyICBxdWludGljKGNvbnN0IGluIHZlYzIgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWMzICBxdWludGljKGNvbnN0IGluIHZlYzMgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQp2ZWM0ICBxdWludGljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdip2Kih2Kih2KjYuMC0xNS4wKSsxMC4wKTsgfQoKI2VuZGlmCgoKCiNpZm5kZWYgRk5DX0dOT0lTRQojZGVmaW5lIEZOQ19HTk9JU0UKCmZsb2F0IGdub2lzZShmbG9hdCB4KSB7CiAgICBmbG9hdCBpID0gZmxvb3IoeCk7ICAKICAgIGZsb2F0IGYgPSBmcmFjdCh4KTsgIAogICAgcmV0dXJuIG1peChyYW5kb20oaSksIHJhbmRvbShpICsgMS4wKSwgc21vb3Roc3RlcCgwLiwxLixmKSk7IAp9CgpmbG9hdCBnbm9pc2UodmVjMiBzdCkgewogICAgdmVjMiBpID0gZmxvb3Ioc3QpOwogICAgdmVjMiBmID0gZnJhY3Qoc3QpOwogICAgZmxvYXQgYSA9IHJhbmRvbShpKTsKICAgIGZsb2F0IGIgPSByYW5kb20oaSArIHZlYzIoMS4wLCAwLjApKTsKICAgIGZsb2F0IGMgPSByYW5kb20oaSArIHZlYzIoMC4wLCAxLjApKTsKICAgIGZsb2F0IGQgPSByYW5kb20oaSArIHZlYzIoMS4wLCAxLjApKTsKICAgIHZlYzIgdSA9IGN1YmljKGYpOwogICAgcmV0dXJuIG1peCggYSwgYiwgdS54KSArCiAgICAgICAgICAgICAgICAoYyAtIGEpKiB1LnkgKiAoMS4wIC0gdS54KSArCiAgICAgICAgICAgICAgICAoZCAtIGIpICogdS54ICogdS55Owp9CgpmbG9hdCBnbm9pc2UodmVjMyBwKSB7CiAgICB2ZWMzIGkgPSBmbG9vcihwKTsKICAgIHZlYzMgZiA9IGZyYWN0KHApOwogICAgdmVjMyB1ID0gcXVpbnRpYyhmKTsKICAgIHJldHVybiAtMS4wICsgMi4wICogbWl4KCBtaXgoIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwwLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDEuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDEuMCwwLjApKSwgdS54KSwgdS55KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDAuMCwxLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMS4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKZmxvYXQgZ25vaXNlKHZlYzMgcCwgZmxvYXQgdGlsZUxlbmd0aCkgewogICAgdmVjMyBpID0gZmxvb3IocCk7CiAgICB2ZWMzIGYgPSBmcmFjdChwKTsKICAgICAgICAgICAgCiAgICB2ZWMzIHUgPSBxdWludGljKGYpOwogICAgICAgIAogICAgcmV0dXJuIG1peCggbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMC4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMC4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDAuMCkpLCB1LngpLCB1LnkpLAogICAgICAgICAgICAgICAgbWl4KCBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDAuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDAuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwwLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwwLjAsMS4wKSksIHUueCksCiAgICAgICAgICAgICAgICAgICAgbWl4KCBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDAuMCwxLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDAuMCwxLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KCBzcmFuZG9tMyhpICsgdmVjMygxLjAsMS4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygxLjAsMS4wLDEuMCkpLCB1LngpLCB1LnkpLCB1LnogKTsKfQoKdmVjMyBnbm9pc2UzKHZlYzMgeCkgewogICAgcmV0dXJuIHZlYzMoZ25vaXNlKHgrdmVjMygxMjMuNDU2LCAwLjU2NywgMC4zNykpLAogICAgICAgICAgICAgICAgZ25vaXNlKHgrdmVjMygwLjExLCA0Ny40MywgMTkuMTcpKSwKICAgICAgICAgICAgICAgIGdub2lzZSh4KSApOwp9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX0dSQUQ0CiNkZWZpbmUgRk5DX0dSQUQ0CnZlYzQgZ3JhZDQoZmxvYXQgaiwgdmVjNCBpcCkgewogICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAtMS4wKTsKICAgIHZlYzQgcCxzOwoKICAgIHAueHl6ID0gZmxvb3IoIGZyYWN0ICh2ZWMzKGopICogaXAueHl6KSAqIDcuMCkgKiBpcC56IC0gMS4wOwogICAgcC53ID0gMS41IC0gZG90KGFicyhwLnh5eiksIG9uZXMueHl6KTsKICAgIHMgPSB2ZWM0KGxlc3NUaGFuKHAsIHZlYzQoMC4wKSkpOwogICAgcC54eXogPSBwLnh5eiArIChzLnh5eioyLjAgLSAxLjApICogcy53d3c7CgogICAgcmV0dXJuIHA7Cn0KI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19QU1JGTk9JU0UKI2RlZmluZSBGTkNfUFNSRk5PSVNFCgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMyIGdyYWRpZW50KSB7CgoJCgl2ZWMyIHV2ID0gdmVjMih4LnggKyB4LnkqMC41LCB4LnkpOwoKCQoJdmVjMiBpMCA9IGZsb29yKHV2KTsKCXZlYzIgZjAgPSBmcmFjdCh1dik7CgkKCWZsb2F0IGNtcCA9IHN0ZXAoZjAueSwgZjAueCk7Cgl2ZWMyIG8xID0gdmVjMihjbXAsIDEuMC1jbXApOwoKCQoJdmVjMiBpMSA9IGkwICsgbzE7Cgl2ZWMyIGkyID0gaTAgKyB2ZWMyKDEuMCwgMS4wKTsKCgkKCXZlYzIgdjAgPSB2ZWMyKGkwLnggLSBpMC55ICogMC41LCBpMC55KTsKCXZlYzIgdjEgPSB2ZWMyKHYwLnggKyBvMS54IC0gbzEueSAqIDAuNSwgdjAueSArIG8xLnkpOwoJdmVjMiB2MiA9IHZlYzIodjAueCArIDAuNSwgdjAueSArIDEuMCk7CgoJCgl2ZWMyIHgwID0geCAtIHYwOwoJdmVjMiB4MSA9IHggLSB2MTsKCXZlYzIgeDIgPSB4IC0gdjI7CgoJdmVjMyBpdSA9IHZlYzMoMC4wKTsKICAgIHZlYzMgaXYgPSB2ZWMzKDAuMCk7Cgl2ZWMzIHh3ID0gdmVjMygwLjApOwogICAgdmVjMyB5dyA9IHZlYzMoMC4wKTsKCgkKCWlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzIoMC4wKSkpKSB7CgkJeHcgPSB2ZWMzKHYwLngsIHYxLngsIHYyLngpOwoJCXl3ID0gdmVjMyh2MC55LCB2MS55LCB2Mi55KTsKCQlpZihwZXJpb2QueCA+IDAuMCkKCQkJeHcgPSBtb2QodmVjMyh2MC54LCB2MS54LCB2Mi54KSwgcGVyaW9kLngpOwoJCWlmKHBlcmlvZC55ID4gMC4wKQoJCQl5dyA9IG1vZCh2ZWMzKHYwLnksIHYxLnksIHYyLnkpLCBwZXJpb2QueSk7CgkJCgkJaXUgPSBmbG9vcih4dyArIDAuNSp5dyArIDAuNSk7CgkJaXYgPSBmbG9vcih5dyArIDAuNSk7Cgl9IGVsc2UgeyAKCQlpdSA9IHZlYzMoaTAueCwgaTEueCwgaTIueCk7CgkJaXYgPSB2ZWMzKGkwLnksIGkxLnksIGkyLnkpOwoJfQoKCQoJdmVjMyBoYXNoID0gbW9kKGl1LCAyODkuMCk7CgloYXNoID0gbW9kKChoYXNoKjUxLjAgKyAyLjApKmhhc2ggKyBpdiwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCozNC4wICsgMTAuMCkqaGFzaCwgMjg5LjApOwoKCQoJdmVjMyBwc2kgPSBoYXNoICogMC4wNzQ4MiArIGFscGhhOwoJdmVjMyBneCA9IGNvcyhwc2kpOwoJdmVjMyBneSA9IHNpbihwc2kpOwoKCQoJdmVjMiBnMCA9IHZlYzIoZ3gueCxneS54KTsKCXZlYzIgZzEgPSB2ZWMyKGd4LnksZ3kueSk7Cgl2ZWMyIGcyID0gdmVjMihneC56LGd5LnopOwoKCQoJdmVjMyB3ID0gMC44IC0gdmVjMyhkb3QoeDAsIHgwKSwgZG90KHgxLCB4MSksIGRvdCh4MiwgeDIpKTsKCXcgPSBtYXgodywgMC4wKTsKCXZlYzMgdzIgPSB3ICogdzsKCXZlYzMgdzQgPSB3MiAqIHcyOwoKCQoJdmVjMyBnZG90eCA9IHZlYzMoZG90KGcwLCB4MCksIGRvdChnMSwgeDEpLCBkb3QoZzIsIHgyKSk7CgoJCglmbG9hdCBuID0gZG90KHc0LCBnZG90eCk7CgoJCgl2ZWMzIHczID0gdzIgKiB3OwoJdmVjMyBkdyA9IC04LjAgKiB3MyAqIGdkb3R4OwoJdmVjMiBkbjAgPSB3NC54ICogZzAgKyBkdy54ICogeDA7Cgl2ZWMyIGRuMSA9IHc0LnkgKiBnMSArIGR3LnkgKiB4MTsKCXZlYzIgZG4yID0gdzQueiAqIGcyICsgZHcueiAqIHgyOwoJZ3JhZGllbnQgPSAxMC45ICogKGRuMCArIGRuMSArIGRuMik7CgoJCglyZXR1cm4gMTAuOSAqIG47Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMyIHgsIHZlYzIgcGVyaW9kLCBmbG9hdCBhbHBoYSwgb3V0IHZlYzIgZ3JhZGllbnQsIG91dCB2ZWMzIGRnKSB7CgoJCgl2ZWMyIHV2ID0gdmVjMih4LnggKyB4LnkqMC41LCB4LnkpOwoKCQoJdmVjMiBpMCA9IGZsb29yKHV2KTsKCXZlYzIgZjAgPSBmcmFjdCh1dik7CgkKCWZsb2F0IGNtcCA9IHN0ZXAoZjAueSwgZjAueCk7Cgl2ZWMyIG8xID0gdmVjMihjbXAsIDEuMC1jbXApOwoKCQoJdmVjMiBpMSA9IGkwICsgbzE7Cgl2ZWMyIGkyID0gaTAgKyB2ZWMyKDEuMCwgMS4wKTsKCgkKCXZlYzIgdjAgPSB2ZWMyKGkwLnggLSBpMC55ICogMC41LCBpMC55KTsKCXZlYzIgdjEgPSB2ZWMyKHYwLnggKyBvMS54IC0gbzEueSAqIDAuNSwgdjAueSArIG8xLnkpOwoJdmVjMiB2MiA9IHZlYzIodjAueCArIDAuNSwgdjAueSArIDEuMCk7CgoJCgl2ZWMyIHgwID0geCAtIHYwOwoJdmVjMiB4MSA9IHggLSB2MTsKCXZlYzIgeDIgPSB4IC0gdjI7CgoJdmVjMyBpdSwgaXY7Cgl2ZWMzIHh3LCB5dzsKCgkKCWlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzIoMC4wKSkpKSB7CgkJeHcgPSB2ZWMzKHYwLngsIHYxLngsIHYyLngpOwoJCXl3ID0gdmVjMyh2MC55LCB2MS55LCB2Mi55KTsKCQlpZihwZXJpb2QueCA+IDAuMCkKCQkJeHcgPSBtb2QodmVjMyh2MC54LCB2MS54LCB2Mi54KSwgcGVyaW9kLngpOwoJCWlmKHBlcmlvZC55ID4gMC4wKQoJCQl5dyA9IG1vZCh2ZWMzKHYwLnksIHYxLnksIHYyLnkpLCBwZXJpb2QueSk7CgkJCgkJaXUgPSBmbG9vcih4dyArIDAuNSp5dyArIDAuNSk7CgkJaXYgPSBmbG9vcih5dyArIDAuNSk7Cgl9IGVsc2UgeyAKCQlpdSA9IHZlYzMoaTAueCwgaTEueCwgaTIueCk7CgkJaXYgPSB2ZWMzKGkwLnksIGkxLnksIGkyLnkpOwoJfQoKCQoJdmVjMyBoYXNoID0gbW9kKGl1LCAyODkuMCk7CgloYXNoID0gbW9kKChoYXNoKjUxLjAgKyAyLjApKmhhc2ggKyBpdiwgMjg5LjApOwoJaGFzaCA9IG1vZCgoaGFzaCozNC4wICsgMTAuMCkqaGFzaCwgMjg5LjApOwoKCQoJdmVjMyBwc2kgPSBoYXNoICogMC4wNzQ4MiArIGFscGhhOwoJdmVjMyBneCA9IGNvcyhwc2kpOwoJdmVjMyBneSA9IHNpbihwc2kpOwoKCQoJdmVjMiBnMCA9IHZlYzIoZ3gueCxneS54KTsKCXZlYzIgZzEgPSB2ZWMyKGd4LnksZ3kueSk7Cgl2ZWMyIGcyID0gdmVjMihneC56LGd5LnopOwoKCQoJdmVjMyB3ID0gMC44IC0gdmVjMyhkb3QoeDAsIHgwKSwgZG90KHgxLCB4MSksIGRvdCh4MiwgeDIpKTsKCXcgPSBtYXgodywgMC4wKTsKCXZlYzMgdzIgPSB3ICogdzsKCXZlYzMgdzQgPSB3MiAqIHcyOwoKCQoJdmVjMyBnZG90eCA9IHZlYzMoZG90KGcwLCB4MCksIGRvdChnMSwgeDEpLCBkb3QoZzIsIHgyKSk7CgoJCglmbG9hdCBuID0gZG90KHc0LCBnZG90eCk7CgoJCgl2ZWMzIHczID0gdzIgKiB3OwoJdmVjMyBkdyA9IC04LjAgKiB3MyAqIGdkb3R4OwoJdmVjMiBkbjAgPSB3NC54ICogZzAgKyBkdy54ICogeDA7Cgl2ZWMyIGRuMSA9IHc0LnkgKiBnMSArIGR3LnkgKiB4MTsKCXZlYzIgZG4yID0gdzQueiAqIGcyICsgZHcueiAqIHgyOwoJZ3JhZGllbnQgPSAxMC45ICogKGRuMCArIGRuMSArIGRuMik7CgoJCgl2ZWMzIGRnMCwgZGcxLCBkZzI7Cgl2ZWMzIGR3MiA9IDQ4LjAgKiB3MiAqIGdkb3R4OwoJCglkZzAueHkgPSBkdzIueCAqIHgwICogeDAgLSA4LjAgKiB3My54ICogKDIuMCAqIGcwICogeDAgKyBnZG90eC54KTsKCWRnMS54eSA9IGR3Mi55ICogeDEgKiB4MSAtIDguMCAqIHczLnkgKiAoMi4wICogZzEgKiB4MSArIGdkb3R4LnkpOwoJZGcyLnh5ID0gZHcyLnogKiB4MiAqIHgyIC0gOC4wICogdzMueiAqICgyLjAgKiBnMiAqIHgyICsgZ2RvdHgueik7CgkKCWRnMC56ID0gZHcyLnggKiB4MC54ICogeDAueSAtIDguMCAqIHczLnggKiBkb3QoZzAsIHgwLnl4KTsKCWRnMS56ID0gZHcyLnkgKiB4MS54ICogeDEueSAtIDguMCAqIHczLnkgKiBkb3QoZzEsIHgxLnl4KTsKCWRnMi56ID0gZHcyLnogKiB4Mi54ICogeDIueSAtIDguMCAqIHczLnogKiBkb3QoZzIsIHgyLnl4KTsKCWRnID0gMTAuOSAqIChkZzAgKyBkZzEgKyBkZzIpOwoKCQoJcmV0dXJuIDEwLjkgKiBuOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMiB4LCB2ZWMyIHBlcmlvZCwgZmxvYXQgYWxwaGEpIHsKICAgIHZlYzIgZyA9IHZlYzIoMC4wKTsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgcGVyaW9kLCBhbHBoYSwgZyk7Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMyIHgsIHZlYzIgcGVyaW9kKSB7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHBlcmlvZCwgMC4wKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzIgeCkgewogICAgcmV0dXJuIHBzcmRub2lzZSh4LCB2ZWMyKDAuMCkpOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4LCB2ZWMzIHBlcmlvZCwgZmxvYXQgYWxwaGEsIG91dCB2ZWMzIGdyYWRpZW50KSB7CgojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgCiAgICBjb25zdCBtYXQzIE0gPSBtYXQzKDAuMCwgMS4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMC4wLCAxLjAsCiAgICAgICAgICAgICAgICAgICAgICAgIDEuMCwgMS4wLCAwLjApOwoKICAgIGNvbnN0IG1hdDMgTWkgPSBtYXQzKC0wLjUsIDAuNSwgMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41LC0wLjUsIDAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAuNSwgMC41LC0wLjUpOwojZW5kaWYKCiAgICB2ZWMzIHV2dyA9IHZlYzMoMC4wKTsKCiAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgIAogICAgdXZ3ID0gTSAqIHg7CiAjZWxzZQogICAgCiAgICAKICAgIHV2dyA9IHggKyBkb3QoeCwgdmVjMygwLjMzMzMzMzMzKSk7CiAjZW5kaWYKCiAgICAKICAgIHZlYzMgaTAgPSBmbG9vcih1dncpOwogICAgdmVjMyBmMCA9IGZyYWN0KHV2dyk7IAoKICAgIAogICAgCiAgICAKICAgIAogICAgdmVjMyBnXyA9IHN0ZXAoZjAueHl4LCBmMC55enopOyAKICAgIHZlYzMgbF8gPSAxLjAgLSBnXzsgICAgICAgICAgICAgCiAgICB2ZWMzIGcgPSB2ZWMzKGxfLnosIGdfLnh5KTsKICAgIHZlYzMgbCA9IHZlYzMobF8ueHksIGdfLnopOwogICAgdmVjMyBvMSA9IG1pbiggZywgbCApOwogICAgdmVjMyBvMiA9IG1heCggZywgbCApOwoKICAgIAogICAgdmVjMyBpMSA9IGkwICsgbzE7CiAgICB2ZWMzIGkyID0gaTAgKyBvMjsKICAgIHZlYzMgaTMgPSBpMCArIHZlYzMoMS4wKTsKCiAgICB2ZWMzIHYwID0gdmVjMygwLjApOwogICAgdmVjMyB2MSA9IHZlYzMoMC4wKTsKICAgIHZlYzMgdjIgPSB2ZWMzKDAuMCk7CiAgICB2ZWMzIHYzID0gdmVjMygwLjApOwoKICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgdjAgPSBNaSAqIGkwOwogICAgdjEgPSBNaSAqIGkxOwogICAgdjIgPSBNaSAqIGkyOwogICAgdjMgPSBNaSAqIGkzOwojZWxzZQogICAgCiAgICB2MCA9IGkwIC0gZG90KGkwLCB2ZWMzKDEuMC82LjApKTsKICAgIHYxID0gaTEgLSBkb3QoaTEsIHZlYzMoMS4wLzYuMCkpOwogICAgdjIgPSBpMiAtIGRvdChpMiwgdmVjMygxLjAvNi4wKSk7CiAgICB2MyA9IGkzIC0gZG90KGkzLCB2ZWMzKDEuMC82LjApKTsKI2VuZGlmCgogICAgCiAgICB2ZWMzIHgwID0geCAtIHYwOwogICAgdmVjMyB4MSA9IHggLSB2MTsKICAgIHZlYzMgeDIgPSB4IC0gdjI7CiAgICB2ZWMzIHgzID0geCAtIHYzOwoKICAgIGlmKGFueShncmVhdGVyVGhhbihwZXJpb2QsIHZlYzMoMC4wKSkpKSB7CiAgICAgICAgCiAgICAgICAgdmVjNCB2eCA9IHZlYzQodjAueCwgdjEueCwgdjIueCwgdjMueCk7CiAgICAgICAgdmVjNCB2eSA9IHZlYzQodjAueSwgdjEueSwgdjIueSwgdjMueSk7CiAgICAgICAgdmVjNCB2eiA9IHZlYzQodjAueiwgdjEueiwgdjIueiwgdjMueik7CiAgICAgICAgCiAgICAgICAgaWYocGVyaW9kLnggPiAwLjApIHZ4ID0gbW9kKHZ4LCBwZXJpb2QueCk7CiAgICAgICAgaWYocGVyaW9kLnkgPiAwLjApIHZ5ID0gbW9kKHZ5LCBwZXJpb2QueSk7CiAgICAgICAgaWYocGVyaW9kLnogPiAwLjApIHZ6ID0gbW9kKHZ6LCBwZXJpb2Queik7CiAgICAgICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAgICAgaTAgPSBNICogdmVjMyh2eC54LCB2eS54LCB2ei54KTsKICAgICAgICBpMSA9IE0gKiB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIGkyID0gTSAqIHZlYzModngueiwgdnkueiwgdnoueik7CiAgICAgICAgaTMgPSBNICogdmVjMyh2eC53LCB2eS53LCB2ei53KTsKI2Vsc2UKICAgICAgICB2MCA9IHZlYzModngueCwgdnkueCwgdnoueCk7CiAgICAgICAgdjEgPSB2ZWMzKHZ4LnksIHZ5LnksIHZ6LnkpOwogICAgICAgIHYyID0gdmVjMyh2eC56LCB2eS56LCB2ei56KTsKICAgICAgICB2MyA9IHZlYzModngudywgdnkudywgdnoudyk7CiAgICAgICAgCiAgICAgICAgaTAgPSB2MCArIGRvdCh2MCwgdmVjMygxLjAvMy4wKSk7CiAgICAgICAgaTEgPSB2MSArIGRvdCh2MSwgdmVjMygxLjAvMy4wKSk7CiAgICAgICAgaTIgPSB2MiArIGRvdCh2MiwgdmVjMygxLjAvMy4wKSk7CiAgICAgICAgaTMgPSB2MyArIGRvdCh2MywgdmVjMygxLjAvMy4wKSk7CiNlbmRpZgogICAgICAgIAogICAgICAgIGkwID0gZmxvb3IoaTAgKyAwLjUpOwogICAgICAgIGkxID0gZmxvb3IoaTEgKyAwLjUpOwogICAgICAgIGkyID0gZmxvb3IoaTIgKyAwLjUpOwogICAgICAgIGkzID0gZmxvb3IoaTMgKyAwLjUpOwogICAgfQoKICAgIAogICAgdmVjNCBoYXNoID0gcGVybXV0ZSggcGVybXV0ZSggcGVybXV0ZSggCiAgICAgICAgICAgICAgICB2ZWM0KGkwLnosIGkxLnosIGkyLnosIGkzLnogKSkKICAgICAgICAgICAgICAgICsgdmVjNChpMC55LCBpMS55LCBpMi55LCBpMy55ICkpCiAgICAgICAgICAgICAgICArIHZlYzQoaTAueCwgaTEueCwgaTIueCwgaTMueCApKTsKCiAgICAKICAgIHZlYzQgdGhldGEgPSBoYXNoICogMy44ODMyMjIwNzc7ICAKICAgIHZlYzQgc3ogICAgPSBoYXNoICogLTAuMDA2OTIwNDE1ICsgMC45OTY1Mzk3OTI7IAogICAgdmVjNCBwc2kgICA9IGhhc2ggKiAwLjEwODcwNTYyOCA7IAoKICAgIHZlYzQgQ3QgPSBjb3ModGhldGEpOwogICAgdmVjNCBTdCA9IHNpbih0aGV0YSk7CiAgICB2ZWM0IHN6X3ByaW1lID0gc3FydCggMS4wIC0gc3oqc3ogKTsgCgogICAgdmVjNCBneCA9IHZlYzQoMC4wKTsKICAgIHZlYzQgZ3kgPSB2ZWM0KDAuMCk7CiAgICB2ZWM0IGd6ID0gdmVjNCgwLjApOwoKICAgIAojaWZkZWYgUFNSRE5PSVNFX0ZBU1RfUk9UQVRJT04KICAgIAogICAgdmVjNCBxeCA9IFN0OyAgICAgICAgIAogICAgdmVjNCBxeSA9IC1DdDsgCiAgICB2ZWM0IHF6ID0gdmVjNCgwLjApOwoKICAgIHZlYzQgcHggPSAgc3ogKiBxeTsgICAKICAgIHZlYzQgcHkgPSAtc3ogKiBxeDsKICAgIHZlYzQgcHogPSBzel9wcmltZTsKCiAgICBwc2kgKz0gYWxwaGE7ICAgICAgICAgCiAgICB2ZWM0IFNhID0gc2luKHBzaSk7CiAgICB2ZWM0IENhID0gY29zKHBzaSk7CgogICAgZ3ggPSBDYSAqIHB4ICsgU2EgKiBxeDsKICAgIGd5ID0gQ2EgKiBweSArIFNhICogcXk7CiAgICBneiA9IENhICogcHogKyBTYSAqIHF6OwojZWxzZQogICAgCiAgICAKICAgIGlmKGFscGhhICE9IDAuMCkgewogICAgICAgIHZlYzQgU3AgPSBzaW4ocHNpKTsgICAgICAgICAgCiAgICAgICAgdmVjNCBDcCA9IGNvcyhwc2kpOwoKICAgICAgICB2ZWM0IHB4ID0gQ3QgKiBzel9wcmltZTsgICAgIAogICAgICAgIHZlYzQgcHkgPSBTdCAqIHN6X3ByaW1lOyAgICAgCiAgICAgICAgdmVjNCBweiA9IHN6OwoKICAgICAgICB2ZWM0IEN0cCA9IFN0KlNwIC0gQ3QqQ3A7ICAgIAogICAgICAgIHZlYzQgcXggPSBtaXgoIEN0cCpTdCwgU3AsIHN6KTsKICAgICAgICB2ZWM0IHF5ID0gbWl4KC1DdHAqQ3QsIENwLCBzeik7CiAgICAgICAgdmVjNCBxeiA9IC0ocHkqQ3AgKyBweCpTcCk7CgogICAgICAgIHZlYzQgU2EgPSB2ZWM0KHNpbihhbHBoYSkpOyAgICAgICAKICAgICAgICB2ZWM0IENhID0gdmVjNChjb3MoYWxwaGEpKTsKCiAgICAgICAgZ3ggPSBDYSAqIHB4ICsgU2EgKiBxeDsKICAgICAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgICAgIGd6ID0gQ2EgKiBweiArIFNhICogcXo7CiAgICB9CiAgICBlbHNlIHsKICAgICAgICBneCA9IEN0ICogc3pfcHJpbWU7ICAKICAgICAgICBneSA9IFN0ICogc3pfcHJpbWU7CiAgICAgICAgZ3ogPSBzejsgIAogICAgfQojZW5kaWYKCiAgICAKICAgIHZlYzMgZzAgPSB2ZWMzKGd4LngsIGd5LngsIGd6LngpOwogICAgdmVjMyBnMSA9IHZlYzMoZ3gueSwgZ3kueSwgZ3oueSk7CiAgICB2ZWMzIGcyID0gdmVjMyhneC56LCBneS56LCBnei56KTsKICAgIHZlYzMgZzMgPSB2ZWMzKGd4LncsIGd5LncsIGd6LncpOwoKICAgIAogICAgdmVjNCB3ID0gMC41IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKTsKICAgIHcgPSBtYXgodywgMC4wKTsKICAgIHZlYzQgdzIgPSB3ICogdzsKICAgIHZlYzQgdzMgPSB3MiAqIHc7CgogICAgCiAgICB2ZWM0IGdkb3R4ID0gdmVjNChkb3QoZzAseDApLCBkb3QoZzEseDEpLCBkb3QoZzIseDIpLCBkb3QoZzMseDMpKTsKCiAgICAKICAgIGZsb2F0IG4gPSBkb3QodzMsIGdkb3R4KTsKCiAgICAKICAgIHZlYzQgZHcgPSAtNi4wICogdzIgKiBnZG90eDsKICAgIHZlYzMgZG4wID0gdzMueCAqIGcwICsgZHcueCAqIHgwOwogICAgdmVjMyBkbjEgPSB3My55ICogZzEgKyBkdy55ICogeDE7CiAgICB2ZWMzIGRuMiA9IHczLnogKiBnMiArIGR3LnogKiB4MjsKICAgIHZlYzMgZG4zID0gdzMudyAqIGczICsgZHcudyAqIHgzOwogICAgZ3JhZGllbnQgPSAzOS41ICogKGRuMCArIGRuMSArIGRuMiArIGRuMyk7CgogICAgCiAgICByZXR1cm4gMzkuNSAqIG47CiAgCn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMzIHgsIHZlYzMgcGVyaW9kLCBmbG9hdCBhbHBoYSwgb3V0IHZlYzMgZ3JhZGllbnQsIG91dCB2ZWMzIGRnLCBvdXQgdmVjMyBkZzIpIHsKCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICAKICAgIGNvbnN0IG1hdDMgTSA9IG1hdDMoMC4wLCAxLjAsIDEuMCwKICAgICAgICAgICAgICAgICAgICAgICAgMS4wLCAwLjAsIDEuMCwKICAgICAgICAgICAgICAgICAgICAgICAgMS4wLCAxLjAsIDAuMCk7CgogICAgY29uc3QgbWF0MyBNaSA9IG1hdDMoLTAuNSwgMC41LCAwLjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjUsLTAuNSwgMC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMC41LCAwLjUsLTAuNSk7CiNlbmRpZgoKICAgIHZlYzMgdXZ3ID0gdmVjMygwLjApOwoKICAgIAojaWZuZGVmIFBTUkROT0lTRV9QRVJMSU5fR1JJRAogICAgCiAgICB1dncgPSBNICogeDsKI2Vsc2UKICAgIAogICAgCiAgICB1dncgPSB4ICsgZG90KHgsIHZlYzMoMC4zMzMzMzMzKSk7CiNlbmRpZgoKICAgIAogICAgdmVjMyBpMCA9IGZsb29yKHV2dyk7CiAgICB2ZWMzIGYwID0gZnJhY3QodXZ3KTsgCgogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWMzIGdfID0gc3RlcChmMC54eXgsIGYwLnl6eik7IAogICAgdmVjMyBsXyA9IDEuMCAtIGdfOyAgICAgICAgICAgICAKICAgIHZlYzMgZyA9IHZlYzMobF8ueiwgZ18ueHkpOwogICAgdmVjMyBsID0gdmVjMyhsXy54eSwgZ18ueik7CiAgICB2ZWMzIG8xID0gbWluKCBnLCBsICk7CiAgICB2ZWMzIG8yID0gbWF4KCBnLCBsICk7CgogICAgCiAgICB2ZWMzIGkxID0gaTAgKyBvMTsKICAgIHZlYzMgaTIgPSBpMCArIG8yOwogICAgdmVjMyBpMyA9IGkwICsgdmVjMygxLjApOwoKICAgIHZlYzMgdjAsIHYxLCB2MiwgdjM7CgogICAgCiNpZm5kZWYgUFNSRE5PSVNFX1BFUkxJTl9HUklECiAgICB2MCA9IE1pICogaTA7CiAgICB2MSA9IE1pICogaTE7CiAgICB2MiA9IE1pICogaTI7CiAgICB2MyA9IE1pICogaTM7CiNlbHNlCiAgICAKICAgIHYwID0gaTAgLSBkb3QoaTAsIHZlYzMoMS4wLzYuMCkpOwogICAgdjEgPSBpMSAtIGRvdChpMSwgdmVjMygxLjAvNi4wKSk7CiAgICB2MiA9IGkyIC0gZG90KGkyLCB2ZWMzKDEuMC82LjApKTsKICAgIHYzID0gaTMgLSBkb3QoaTMsIHZlYzMoMS4wLzYuMCkpOwojZW5kaWYKCiAgICAKICAgIHZlYzMgeDAgPSB4IC0gdjA7CiAgICB2ZWMzIHgxID0geCAtIHYxOwogICAgdmVjMyB4MiA9IHggLSB2MjsKICAgIHZlYzMgeDMgPSB4IC0gdjM7CgogICAgaWYoYW55KGdyZWF0ZXJUaGFuKHBlcmlvZCwgdmVjMygwLjApKSkpIHsKICAgICAgICAKICAgICAgICB2ZWM0IHZ4ID0gdmVjNCh2MC54LCB2MS54LCB2Mi54LCB2My54KTsKICAgICAgICB2ZWM0IHZ5ID0gdmVjNCh2MC55LCB2MS55LCB2Mi55LCB2My55KTsKICAgICAgICB2ZWM0IHZ6ID0gdmVjNCh2MC56LCB2MS56LCB2Mi56LCB2My56KTsKICAgICAgICAKICAgICAgICBpZihwZXJpb2QueCA+IDAuMCkgdnggPSBtb2QodngsIHBlcmlvZC54KTsKICAgICAgICBpZihwZXJpb2QueSA+IDAuMCkgdnkgPSBtb2QodnksIHBlcmlvZC55KTsKICAgICAgICBpZihwZXJpb2QueiA+IDAuMCkgdnogPSBtb2QodnosIHBlcmlvZC56KTsKICAgICAgICAKI2lmbmRlZiBQU1JETk9JU0VfUEVSTElOX0dSSUQKICAgICAgICBpMCA9IE0gKiB2ZWMzKHZ4LngsIHZ5LngsIHZ6LngpOwogICAgICAgIGkxID0gTSAqIHZlYzModngueSwgdnkueSwgdnoueSk7CiAgICAgICAgaTIgPSBNICogdmVjMyh2eC56LCB2eS56LCB2ei56KTsKICAgICAgICBpMyA9IE0gKiB2ZWMzKHZ4LncsIHZ5LncsIHZ6LncpOwojZWxzZQogICAgICAgIHYwID0gdmVjMyh2eC54LCB2eS54LCB2ei54KTsKICAgICAgICB2MSA9IHZlYzModngueSwgdnkueSwgdnoueSk7CiAgICAgICAgdjIgPSB2ZWMzKHZ4LnosIHZ5LnosIHZ6LnopOwogICAgICAgIHYzID0gdmVjMyh2eC53LCB2eS53LCB2ei53KTsKICAgICAgICAKICAgICAgICBpMCA9IHYwICsgZG90KHYwLCB2ZWMzKDAuMzMzMzMzMykpOwogICAgICAgIGkxID0gdjEgKyBkb3QodjEsIHZlYzMoMC4zMzMzMzMzKSk7CiAgICAgICAgaTIgPSB2MiArIGRvdCh2MiwgdmVjMygwLjMzMzMzMzMpKTsKICAgICAgICBpMyA9IHYzICsgZG90KHYzLCB2ZWMzKDAuMzMzMzMzMykpOwojZW5kaWYKICAgICAgICAKICAgICAgICBpMCA9IGZsb29yKGkwICsgMC41KTsKICAgICAgICBpMSA9IGZsb29yKGkxICsgMC41KTsKICAgICAgICBpMiA9IGZsb29yKGkyICsgMC41KTsKICAgICAgICBpMyA9IGZsb29yKGkzICsgMC41KTsKICAgIH0KCiAgICAKICAgIHZlYzQgaGFzaCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIAogICAgICAgICAgICAgICAgdmVjNChpMC56LCBpMS56LCBpMi56LCBpMy56ICkpCiAgICAgICAgICAgICAgICArIHZlYzQoaTAueSwgaTEueSwgaTIueSwgaTMueSApKQogICAgICAgICAgICAgICAgKyB2ZWM0KGkwLngsIGkxLngsIGkyLngsIGkzLnggKSk7CgogICAgCiAgICB2ZWM0IHRoZXRhID0gaGFzaCAqIDMuODgzMjIyMDc3OyAgCiAgICB2ZWM0IHN6ICAgID0gaGFzaCAqIC0wLjAwNjkyMDQxNSArIDAuOTk2NTM5NzkyOyAKICAgIHZlYzQgcHNpICAgPSBoYXNoICogMC4xMDg3MDU2MjggOyAKCiAgICB2ZWM0IEN0ID0gY29zKHRoZXRhKTsKICAgIHZlYzQgU3QgPSBzaW4odGhldGEpOwogICAgdmVjNCBzel9wcmltZSA9IHNxcnQoIDEuMCAtIHN6KnN6ICk7IAoKICAgIHZlYzQgZ3gsIGd5LCBnejsKCiAgICAKI2lmZGVmIFBTUkROT0lTRV9GQVNUX1JPVEFUSU9OCiAgICAKICAgIHZlYzQgcXggPSBTdDsgICAgICAgICAKICAgIHZlYzQgcXkgPSAtQ3Q7IAogICAgdmVjNCBxeiA9IHZlYzQoMC4wKTsKCiAgICB2ZWM0IHB4ID0gIHN6ICogcXk7ICAgCiAgICB2ZWM0IHB5ID0gLXN6ICogcXg7CiAgICB2ZWM0IHB6ID0gc3pfcHJpbWU7CgogICAgcHNpICs9IGFscGhhOyAgICAgICAgIAogICAgdmVjNCBTYSA9IHNpbihwc2kpOwogICAgdmVjNCBDYSA9IGNvcyhwc2kpOwoKICAgIGd4ID0gQ2EgKiBweCArIFNhICogcXg7CiAgICBneSA9IENhICogcHkgKyBTYSAqIHF5OwogICAgZ3ogPSBDYSAqIHB6ICsgU2EgKiBxejsKICAgICNlbHNlCiAgICAKICAgIAogICAgaWYoYWxwaGEgIT0gMC4wKSB7CiAgICAgICAgdmVjNCBTcCA9IHNpbihwc2kpOyAgICAgICAgICAKICAgICAgICB2ZWM0IENwID0gY29zKHBzaSk7CgogICAgICAgIHZlYzQgcHggPSBDdCAqIHN6X3ByaW1lOyAgICAgCiAgICAgICAgdmVjNCBweSA9IFN0ICogc3pfcHJpbWU7ICAgICAKICAgICAgICB2ZWM0IHB6ID0gc3o7CgogICAgICAgIHZlYzQgQ3RwID0gU3QqU3AgLSBDdCpDcDsgICAgCiAgICAgICAgdmVjNCBxeCA9IG1peCggQ3RwKlN0LCBTcCwgc3opOwogICAgICAgIHZlYzQgcXkgPSBtaXgoLUN0cCpDdCwgQ3AsIHN6KTsKICAgICAgICB2ZWM0IHF6ID0gLShweSpDcCArIHB4KlNwKTsKCiAgICAgICAgdmVjNCBTYSA9IHZlYzQoc2luKGFscGhhKSk7ICAgICAgIAogICAgICAgIHZlYzQgQ2EgPSB2ZWM0KGNvcyhhbHBoYSkpOwoKICAgICAgICBneCA9IENhICogcHggKyBTYSAqIHF4OwogICAgICAgIGd5ID0gQ2EgKiBweSArIFNhICogcXk7CiAgICAgICAgZ3ogPSBDYSAqIHB6ICsgU2EgKiBxejsKICAgIH0KICAgIGVsc2UgewogICAgICAgIGd4ID0gQ3QgKiBzel9wcmltZTsgIAogICAgICAgIGd5ID0gU3QgKiBzel9wcmltZTsKICAgICAgICBneiA9IHN6OyAgCiAgICB9CiNlbmRpZgoKICAgIAogICAgdmVjMyBnMCA9IHZlYzMoZ3gueCwgZ3kueCwgZ3oueCk7CiAgICB2ZWMzIGcxID0gdmVjMyhneC55LCBneS55LCBnei55KTsKICAgIHZlYzMgZzIgPSB2ZWMzKGd4LnosIGd5LnosIGd6LnopOwogICAgdmVjMyBnMyA9IHZlYzMoZ3gudywgZ3kudywgZ3oudyk7CgogICAgCiAgICB2ZWM0IHcgPSAwLjUgLSB2ZWM0KGRvdCh4MCx4MCksIGRvdCh4MSx4MSksIGRvdCh4Mix4MiksIGRvdCh4Myx4MykpOwogICAgdyA9IG1heCh3LCAwLjApOwogICAgdmVjNCB3MiA9IHcgKiB3OwogICAgdmVjNCB3MyA9IHcyICogdzsKCiAgICAKICAgIHZlYzQgZ2RvdHggPSB2ZWM0KGRvdChnMCx4MCksIGRvdChnMSx4MSksIGRvdChnMix4MiksIGRvdChnMyx4MykpOwoKICAgIAogICAgZmxvYXQgbiA9IGRvdCh3MywgZ2RvdHgpOwoKICAgIAogICAgdmVjNCBkdyA9IC02LjAgKiB3MiAqIGdkb3R4OwogICAgdmVjMyBkbjAgPSB3My54ICogZzAgKyBkdy54ICogeDA7CiAgICB2ZWMzIGRuMSA9IHczLnkgKiBnMSArIGR3LnkgKiB4MTsKICAgIHZlYzMgZG4yID0gdzMueiAqIGcyICsgZHcueiAqIHgyOwogICAgdmVjMyBkbjMgPSB3My53ICogZzMgKyBkdy53ICogeDM7CiAgICBncmFkaWVudCA9IDM5LjUgKiAoZG4wICsgZG4xICsgZG4yICsgZG4zKTsKCiAgICAKICAgIHZlYzQgZHcyID0gMjQuMCAqIHcgKiBnZG90eDsKICAgIHZlYzMgZGdhMCA9IGR3Mi54ICogeDAgKiB4MCAtIDYuMCAqIHcyLnggKiAoZ2RvdHgueCArIDIuMCAqIGcwICogeDApOwogICAgdmVjMyBkZ2ExID0gZHcyLnkgKiB4MSAqIHgxIC0gNi4wICogdzIueSAqIChnZG90eC55ICsgMi4wICogZzEgKiB4MSk7CiAgICB2ZWMzIGRnYTIgPSBkdzIueiAqIHgyICogeDIgLSA2LjAgKiB3Mi56ICogKGdkb3R4LnogKyAyLjAgKiBnMiAqIHgyKTsKICAgIHZlYzMgZGdhMyA9IGR3Mi53ICogeDMgKiB4MyAtIDYuMCAqIHcyLncgKiAoZ2RvdHgudyArIDIuMCAqIGczICogeDMpOwogICAgZGcgPSAzNS4wICogKGRnYTAgKyBkZ2ExICsgZGdhMiArIGRnYTMpOyAKICAgIHZlYzMgZGdiMCA9IGR3Mi54ICogeDAgKiB4MC55enggLSA2LjAgKiB3Mi54ICogKGcwICogeDAueXp4ICsgZzAueXp4ICogeDApOwogICAgdmVjMyBkZ2IxID0gZHcyLnkgKiB4MSAqIHgxLnl6eCAtIDYuMCAqIHcyLnkgKiAoZzEgKiB4MS55enggKyBnMS55enggKiB4MSk7CiAgICB2ZWMzIGRnYjIgPSBkdzIueiAqIHgyICogeDIueXp4IC0gNi4wICogdzIueiAqIChnMiAqIHgyLnl6eCArIGcyLnl6eCAqIHgyKTsKICAgIHZlYzMgZGdiMyA9IGR3Mi53ICogeDMgKiB4My55enggLSA2LjAgKiB3Mi53ICogKGczICogeDMueXp4ICsgZzMueXp4ICogeDMpOwogICAgZGcyID0gMzkuNSAqIChkZ2IwICsgZGdiMSArIGRnYjIgKyBkZ2IzKTsgCgogICAgCiAgICByZXR1cm4gMzkuNSAqIG47Cn0KCmZsb2F0IHBzcmRub2lzZSh2ZWMzIHgsIHZlYzMgcGVyaW9kLCBmbG9hdCBhbHBoYSkgewogICAgdmVjMyBnID0gdmVjMygwLjApOwogICAgcmV0dXJuIHBzcmRub2lzZSh4LCBwZXJpb2QsIGFscGhhLCBnKTsKfQoKZmxvYXQgcHNyZG5vaXNlKHZlYzMgeCwgdmVjMyBwZXJpb2QpIHsKICAgIHJldHVybiBwc3Jkbm9pc2UoeCwgcGVyaW9kLCAwLjApOwp9CgpmbG9hdCBwc3Jkbm9pc2UodmVjMyB4KSB7CiAgICByZXR1cm4gcHNyZG5vaXNlKHgsIHZlYzMoMC4wKSk7Cn0KI2VuZGlmCgoKCgoKI2lmbmRlZiBSQU5ET01fU0NBTEUKI2lmIGRlZmluZWQoUkFORE9NX0hJR0hFUl9SQU5HRSkKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCguMTAzMSwgLjEwMzAsIC4wOTczLCAuMTA5OSkKI2Vsc2UKI2RlZmluZSBSQU5ET01fU0NBTEUgdmVjNCg0NDMuODk3LCA0NDEuNDIzLCAuMDk3MywgLjEwOTkpCiNlbmRpZgojZW5kaWYKCiNpZm5kZWYgRk5DX1JBTkRPTQojZGVmaW5lIEZOQ19SQU5ET00KZmxvYXQgcmFuZG9tKGluIGZsb2F0IHgpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB4ID0gZnJhY3QoeCAqIFJBTkRPTV9TQ0FMRS54KTsKICAgIHggKj0geCArIDMzLjMzOwogICAgeCAqPSB4ICsgeDsKICAgIHJldHVybiBmcmFjdCh4KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oeCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWMyIHN0KSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgdmVjMyBwMyAgPSBmcmFjdCh2ZWMzKHN0Lnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwMy54ICsgcDMueSkgKiBwMy56KTsKI2Vsc2UKICAgIHJldHVybiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzMgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zICA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcG9zICs9IGRvdChwb3MsIHBvcy56eXggKyAzMS4zMik7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogcG9zLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3QocG9zLnh5eiwgdmVjMyg3MC45ODk4LCA3OC4yMzMsIDMyLjQzNTUpKSkgKiA0Mzc1OC41NDUzMTIzKTsKI2VuZGlmCn0KCmZsb2F0IHJhbmRvbShpbiB2ZWM0IHBvcykgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHBvcyA9IGZyYWN0KHBvcyAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnd6eHkrMzMuMzMpOwogICAgcmV0dXJuIGZyYWN0KChwb3MueCArIHBvcy55KSAqIChwb3MueiArIHBvcy53KSk7CiNlbHNlCiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIGZyYWN0KHNpbihkb3RfcHJvZHVjdCkgKiA0Mzc1OC41NDUzKTsKI2VuZGlmCn0KCnZlYzIgcmFuZG9tMihmbG9hdCBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwKSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QocC54eXggKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMiByYW5kb20yKHZlYzMgcDMpIHsKICAgIHAzID0gZnJhY3QocDMgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eCArIHAzLnl6KSAqIHAzLnp5KTsKfQoKdmVjMyByYW5kb20zKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHh5ICsgcDMueXp6KSAqIHAzLnp5eCk7IAp9Cgp2ZWMzIHJhbmRvbTModmVjMiBwKSB7CiAgICB2ZWMzIHAzID0gZnJhY3QodmVjMyhwLnh5eCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsKfQoKdmVjMyByYW5kb20zKHZlYzMgcCkgewogICAgcCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAgKz0gZG90KHAsIHAueXh6ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwLnh4eSArIHAueXp6KSAqIHAuenl4KTsKfQoKdmVjNCByYW5kb200KGZsb2F0IHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7ICAgCn0KCnZlYzQgcmFuZG9tNCh2ZWMyIHApIHsKICAgIHZlYzQgcDQgPSBmcmFjdChwLnh5eHkgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzMgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl6eCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKdmVjNCByYW5kb200KHZlYzQgcDQpIHsKICAgIHA0ID0gZnJhY3QocDQgICogUkFORE9NX1NDQUxFKTsKICAgIHA0ICs9IGRvdChwNCwgcDQud3p4eSArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDQueHh5eiArIHA0Lnl6encpICogcDQuenl3eCk7Cn0KCgojZW5kaWYKCgoKCiNpZm5kZWYgRk5DX1dPUkxFWQojZGVmaW5lIEZOQ19XT1JMRVkKCmZsb2F0IHdvcmxleSh2ZWMyIHApewogICAgdmVjMiBuID0gZmxvb3IoIHAgKTsKICAgIHZlYzIgZiA9IGZyYWN0KCBwICk7CgogICAgZmxvYXQgZGlzID0gMS4wOwogICAgZm9yKCBpbnQgaj0gLTE7IGogPD0gMTsgaisrICkKICAgICAgICBmb3IoIGludCBpPS0xOyBpIDw9IDE7IGkrKyApIHsJCiAgICAgICAgICAgICAgICB2ZWMyICBnID0gdmVjMihpLGopOwogICAgICAgICAgICAgICAgdmVjMiAgbyA9IHJhbmRvbTIoIG4gKyBnICk7CiAgICAgICAgICAgICAgICB2ZWMyICBkZWx0YSA9IGcgKyBvIC0gZjsKICAgICAgICAgICAgICAgIGZsb2F0IGQgPSBsZW5ndGgoZGVsdGEpOwogICAgICAgICAgICAgICAgZGlzID0gbWluKGRpcyxkKTsKICAgIH0KCiAgICByZXR1cm4gMS4wLWRpczsKfQoKZmxvYXQgd29ybGV5KHZlYzMgcCkgewogICAgdmVjMyBuID0gZmxvb3IoIHAgKTsKICAgIHZlYzMgZiA9IGZyYWN0KCBwICk7CgogICAgZmxvYXQgZGlzID0gMS4wOwogICAgZm9yKCBpbnQgayA9IC0xOyBrIDw9IDE7IGsrKyApCiAgICAgICAgZm9yKCBpbnQgaj0gLTE7IGogPD0gMTsgaisrICkKICAgICAgICAgICAgZm9yKCBpbnQgaT0tMTsgaSA8PSAxOyBpKysgKSB7CQogICAgICAgICAgICAgICAgdmVjMyAgZyA9IHZlYzMoaSxqLGspOwogICAgICAgICAgICAgICAgdmVjMyAgbyA9IHJhbmRvbTMoIG4gKyBnICk7CiAgICAgICAgICAgICAgICB2ZWMzICBkZWx0YSA9IGcrby1mOwogICAgICAgICAgICAgICAgZmxvYXQgZCA9IGxlbmd0aChkZWx0YSk7CiAgICAgICAgICAgICAgICBkaXMgPSBtaW4oZGlzLGQpOwogICAgfQoKICAgIHJldHVybiAxLjAtZGlzOwp9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX0dSQUQ0CiNkZWZpbmUgRk5DX0dSQUQ0CnZlYzQgZ3JhZDQoZmxvYXQgaiwgdmVjNCBpcCkgewogICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAtMS4wKTsKICAgIHZlYzQgcCxzOwoKICAgIHAueHl6ID0gZmxvb3IoIGZyYWN0ICh2ZWMzKGopICogaXAueHl6KSAqIDcuMCkgKiBpcC56IC0gMS4wOwogICAgcC53ID0gMS41IC0gZG90KGFicyhwLnh5eiksIG9uZXMueHl6KTsKICAgIHMgPSB2ZWM0KGxlc3NUaGFuKHAsIHZlYzQoMC4wKSkpOwogICAgcC54eXogPSBwLnh5eiArIChzLnh5eioyLjAgLSAxLjApICogcy53d3c7CgogICAgcmV0dXJuIHA7Cn0KI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19TTk9JU0UKI2RlZmluZSBGTkNfU05PSVNFCmZsb2F0IHNub2lzZShpbiB2ZWMyIHYpIHsKICAgIGNvbnN0IHZlYzQgQyA9IHZlYzQoMC4yMTEzMjQ4NjU0MDUxODcsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4zNjYwMjU0MDM3ODQ0MzksICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNTc3MzUwMjY5MTg5NjI2LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMDI0MzkwMjQzOTAyNDM5KTsgCiAgICAKICAgIHZlYzIgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXkpICk7CiAgICB2ZWMyIHgwID0gdiAtICAgaSArIGRvdChpLCBDLnh4KTsKCiAgICAKICAgIHZlYzIgaTE7CiAgICAKICAgIAogICAgaTEgPSAoeDAueCA+IHgwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTsKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEyID0geDAueHl4eSArIEMueHh6ejsKICAgIHgxMi54eSAtPSBpMTsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7IAogICAgdmVjMyBwID0gcGVybXV0ZSggcGVybXV0ZSggaS55ICsgdmVjMygwLjAsIGkxLnksIDEuMCApKQogICAgKyBpLnggKyB2ZWMzKDAuMCwgaTEueCwgMS4wICkpOwoKICAgIHZlYzMgbSA9IG1heCgwLjUgLSB2ZWMzKGRvdCh4MCx4MCksIGRvdCh4MTIueHkseDEyLnh5KSwgZG90KHgxMi56dyx4MTIuencpKSwgMC4wKTsKICAgIG0gPSBtKm0gOwogICAgbSA9IG0qbSA7CgogICAgCiAgICAKCiAgICB2ZWMzIHggPSAyLjAgKiBmcmFjdChwICogQy53d3cpIC0gMS4wOwogICAgdmVjMyBoID0gYWJzKHgpIC0gMC41OwogICAgdmVjMyBveCA9IGZsb29yKHggKyAwLjUpOwogICAgdmVjMyBhMCA9IHggLSBveDsKCiAgICAKICAgIAogICAgbSAqPSAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqICggYTAqYTAgKyBoKmggKTsKCiAgICAKICAgIHZlYzMgZzsKICAgIGcueCAgPSBhMC54ICAqIHgwLnggICsgaC54ICAqIHgwLnk7CiAgICBnLnl6ID0gYTAueXogKiB4MTIueHogKyBoLnl6ICogeDEyLnl3OwogICAgcmV0dXJuIDEzMC4wICogZG90KG0sIGcpOwp9CgoKZmxvYXQgc25vaXNlKGluIHZlYzMgdikgewogICAgY29uc3QgdmVjMiAgQyA9IHZlYzIoMS4wLzYuMCwgMS4wLzMuMCkgOwogICAgY29uc3QgdmVjNCAgRCA9IHZlYzQoMC4wLCAwLjUsIDEuMCwgMi4wKTsKCiAgICAKICAgIHZlYzMgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXl5KSApOwogICAgdmVjMyB4MCA9ICAgdiAtIGkgKyBkb3QoaSwgQy54eHgpIDsKCiAgICAKICAgIHZlYzMgZyA9IHN0ZXAoeDAueXp4LCB4MC54eXopOwogICAgdmVjMyBsID0gMS4wIC0gZzsKICAgIHZlYzMgaTEgPSBtaW4oIGcueHl6LCBsLnp4eSApOwogICAgdmVjMyBpMiA9IG1heCggZy54eXosIGwuenh5ICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWMzIHgxID0geDAgLSBpMSArIEMueHh4OwogICAgdmVjMyB4MiA9IHgwIC0gaTIgKyBDLnl5eTsgCiAgICB2ZWMzIHgzID0geDAgLSBELnl5eTsgICAgICAKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICB2ZWM0IHAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKAogICAgICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKQogICAgICAgICAgICArIGkueSArIHZlYzQoMC4wLCBpMS55LCBpMi55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpOwoKICAgIAogICAgCiAgICBmbG9hdCBuXyA9IDAuMTQyODU3MTQyODU3OyAKICAgIHZlYzMgIG5zID0gbl8gKiBELnd5eiAtIEQueHp4OwoKICAgIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTsgIAoKICAgIHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7CiAgICB2ZWM0IHlfID0gZmxvb3IoaiAtIDcuMCAqIHhfICk7ICAgIAoKICAgIHZlYzQgeCA9IHhfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgeSA9IHlfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgaCA9IDEuMCAtIGFicyh4KSAtIGFicyh5KTsKCiAgICB2ZWM0IGIwID0gdmVjNCggeC54eSwgeS54eSApOwogICAgdmVjNCBiMSA9IHZlYzQoIHguencsIHkuencgKTsKCiAgICAKICAgIAogICAgdmVjNCBzMCA9IGZsb29yKGIwKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDsKICAgIHZlYzQgc2ggPSAtc3RlcChoLCB2ZWM0KDAuMCkpOwoKICAgIHZlYzQgYTAgPSBiMC54enl3ICsgczAueHp5dypzaC54eHl5IDsKICAgIHZlYzQgYTEgPSBiMS54enl3ICsgczEueHp5dypzaC56end3IDsKCiAgICB2ZWMzIHAwID0gdmVjMyhhMC54eSxoLngpOwogICAgdmVjMyBwMSA9IHZlYzMoYTAuencsaC55KTsKICAgIHZlYzMgcDIgPSB2ZWMzKGExLnh5LGgueik7CiAgICB2ZWMzIHAzID0gdmVjMyhhMS56dyxoLncpOwoKICAgIAogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChwMCxwMCksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7CiAgICBwMCAqPSBub3JtLng7CiAgICBwMSAqPSBub3JtLnk7CiAgICBwMiAqPSBub3JtLno7CiAgICBwMyAqPSBub3JtLnc7CgogICAgCiAgICB2ZWM0IG0gPSBtYXgoMC42IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKSwgMC4wKTsKICAgIG0gPSBtICogbTsKICAgIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMCx4MCksIGRvdChwMSx4MSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHAyLHgyKSwgZG90KHAzLHgzKSApICk7Cn0KCmZsb2F0IHNub2lzZShpbiB2ZWM0IHYpIHsKICAgIGNvbnN0IHZlYzQgIEMgPSB2ZWM0KCAwLjEzODE5NjYwMTEyNTAxMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjI3NjM5MzIwMjI1MDAyMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjQxNDU4OTgwMzM3NTAzMiwgIAogICAgICAgICAgICAgICAgICAgICAgICAtMC40NDcyMTM1OTU0OTk5NTgpOyAKCiAgICAKICAgIHZlYzQgaSAgPSBmbG9vcih2ICsgZG90KHYsIHZlYzQoLjMwOTAxNjk5NDM3NDk0NzQ1MSkpICk7IAogICAgdmVjNCB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eHh4KTsKCiAgICAKCiAgICAKICAgIHZlYzQgaTA7CiAgICB2ZWMzIGlzWCA9IHN0ZXAoIHgwLnl6dywgeDAueHh4ICk7CiAgICB2ZWMzIGlzWVogPSBzdGVwKCB4MC56d3csIHgwLnl5eiApOwogICAgCiAgICBpMC54ID0gaXNYLnggKyBpc1gueSArIGlzWC56OwogICAgaTAueXp3ID0gMS4wIC0gaXNYOwogICAgCiAgICBpMC55ICs9IGlzWVoueCArIGlzWVoueTsKICAgIGkwLnp3ICs9IDEuMCAtIGlzWVoueHk7CiAgICBpMC56ICs9IGlzWVouejsKICAgIGkwLncgKz0gMS4wIC0gaXNZWi56OwoKICAgIAogICAgdmVjNCBpMyA9IGNsYW1wKCBpMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTIgPSBjbGFtcCggaTAtMS4wLCAwLjAsIDEuMCApOwogICAgdmVjNCBpMSA9IGNsYW1wKCBpMC0yLjAsIDAuMCwgMS4wICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEgPSB4MCAtIGkxICsgQy54eHh4OwogICAgdmVjNCB4MiA9IHgwIC0gaTIgKyBDLnl5eXk7CiAgICB2ZWM0IHgzID0geDAgLSBpMyArIEMuenp6ejsKICAgIHZlYzQgeDQgPSB4MCArIEMud3d3dzsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICBmbG9hdCBqMCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoaS53KSArIGkueikgKyBpLnkpICsgaS54KTsKICAgIHZlYzQgajEgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlICgKICAgICAgICAgICAgICAgIGkudyArIHZlYzQoaTEudywgaTIudywgaTMudywgMS4wICkpCiAgICAgICAgICAgICsgaS56ICsgdmVjNChpMS56LCBpMi56LCBpMy56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KGkxLnksIGkyLnksIGkzLnksIDEuMCApKQogICAgICAgICAgICArIGkueCArIHZlYzQoaTEueCwgaTIueCwgaTMueCwgMS4wICkpOwoKICAgIAogICAgCiAgICB2ZWM0IGlwID0gdmVjNCgxLjAvMjk0LjAsIDEuMC80OS4wLCAxLjAvNy4wLCAwLjApIDsKCiAgICB2ZWM0IHAwID0gZ3JhZDQoajAsICAgaXApOwogICAgdmVjNCBwMSA9IGdyYWQ0KGoxLngsIGlwKTsKICAgIHZlYzQgcDIgPSBncmFkNChqMS55LCBpcCk7CiAgICB2ZWM0IHAzID0gZ3JhZDQoajEueiwgaXApOwogICAgdmVjNCBwNCA9IGdyYWQ0KGoxLncsIGlwKTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwogICAgcDQgKj0gdGF5bG9ySW52U3FydChkb3QocDQscDQpKTsKCiAgICAKICAgIHZlYzMgbTAgPSBtYXgoMC42IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpKSwgMC4wKTsKICAgIHZlYzIgbTEgPSBtYXgoMC42IC0gdmVjMihkb3QoeDMseDMpLCBkb3QoeDQseDQpICAgICAgICAgICAgKSwgMC4wKTsKICAgIG0wID0gbTAgKiBtMDsKICAgIG0xID0gbTEgKiBtMTsKICAgIHJldHVybiA0OS4wICogKCBkb3QobTAqbTAsIHZlYzMoIGRvdCggcDAsIHgwICksIGRvdCggcDEsIHgxICksIGRvdCggcDIsIHgyICkpKQogICAgICAgICAgICAgICAgKyBkb3QobTEqbTEsIHZlYzIoIGRvdCggcDMsIHgzICksIGRvdCggcDQsIHg0ICkgKSApICkgOwp9Cgp2ZWMyIHNub2lzZTIoIHZlYzIgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMiggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzIoIHgueSAtIDE5LjEsIHgueCArIDQ3LjIgKSk7CiAgICByZXR1cm4gdmVjMiggcyAsIHMxICk7Cn0KCnZlYzMgc25vaXNlMyggdmVjMyB4ICl7CiAgICBmbG9hdCBzICA9IHNub2lzZSh2ZWMzKCB4ICkpOwogICAgZmxvYXQgczEgPSBzbm9pc2UodmVjMyggeC55IC0gMTkuMSAsIHgueiArIDMzLjQgLCB4LnggKyA0Ny4yICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjMyggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzQgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjNCggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzQoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiwgeC53ICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjNCggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCwgeC53ICkpOwogICAgcmV0dXJuIHZlYzMoIHMgLCBzMSAsIHMyICk7Cn0KCiNlbmRpZgoKCgoKCgojaWZuZGVmIEZOQ19NT0QyODkKI2RlZmluZSBGTkNfTU9EMjg5CgpmbG9hdCBtb2QyODkoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzIgbW9kMjg5KGNvbnN0IGluIHZlYzIgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzMgbW9kMjg5KGNvbnN0IGluIHZlYzMgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CnZlYzQgbW9kMjg5KGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4geCAtIGZsb29yKHggKiAoMS4gLyAyODkuKSkgKiAyODkuOyB9CgojZW5kaWYKCgoKCgojaWZuZGVmIEZOQ19QRVJNVVRFCiNkZWZpbmUgRk5DX1BFUk1VVEUKCmZsb2F0IHBlcm11dGUoY29uc3QgaW4gZmxvYXQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CnZlYzIgcGVybXV0ZShjb25zdCBpbiB2ZWMyIHgpIHsgcmV0dXJuIG1vZDI4OSgoKHggKiAzNC4wKSArIDEuMCkgKiB4KTsgfQp2ZWMzIHBlcm11dGUoY29uc3QgaW4gdmVjMyB4KSB7IHJldHVybiBtb2QyODkoKCh4ICogMzQuMCkgKyAxLjApICogeCk7IH0KdmVjNCBwZXJtdXRlKGNvbnN0IGluIHZlYzQgeCkgeyByZXR1cm4gbW9kMjg5KCgoeCAqIDM0LjApICsgMS4wKSAqIHgpOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfVEFZTE9SSU5WU1FSVAojZGVmaW5lIEZOQ19UQVlMT1JJTlZTUVJUCmZsb2F0IHRheWxvckludlNxcnQoaW4gZmxvYXQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CnZlYzIgdGF5bG9ySW52U3FydChpbiB2ZWMyIHIpIHsgcmV0dXJuIDEuNzkyODQyOTE0MDAxNTkgLSAwLjg1MzczNDcyMDk1MzE0ICogcjsgfQp2ZWMzIHRheWxvckludlNxcnQoaW4gdmVjMyByKSB7IHJldHVybiAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqIHI7IH0KdmVjNCB0YXlsb3JJbnZTcXJ0KGluIHZlYzQgcikgeyByZXR1cm4gMS43OTI4NDI5MTQwMDE1OSAtIDAuODUzNzM0NzIwOTUzMTQgKiByOyB9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX0dSQUQ0CiNkZWZpbmUgRk5DX0dSQUQ0CnZlYzQgZ3JhZDQoZmxvYXQgaiwgdmVjNCBpcCkgewogICAgY29uc3QgdmVjNCBvbmVzID0gdmVjNCgxLjAsIDEuMCwgMS4wLCAtMS4wKTsKICAgIHZlYzQgcCxzOwoKICAgIHAueHl6ID0gZmxvb3IoIGZyYWN0ICh2ZWMzKGopICogaXAueHl6KSAqIDcuMCkgKiBpcC56IC0gMS4wOwogICAgcC53ID0gMS41IC0gZG90KGFicyhwLnh5eiksIG9uZXMueHl6KTsKICAgIHMgPSB2ZWM0KGxlc3NUaGFuKHAsIHZlYzQoMC4wKSkpOwogICAgcC54eXogPSBwLnh5eiArIChzLnh5eioyLjAgLSAxLjApICogcy53d3c7CgogICAgcmV0dXJuIHA7Cn0KI2VuZGlmCgoKCgojaWZuZGVmIEZOQ19TTk9JU0UKI2RlZmluZSBGTkNfU05PSVNFCmZsb2F0IHNub2lzZShpbiB2ZWMyIHYpIHsKICAgIGNvbnN0IHZlYzQgQyA9IHZlYzQoMC4yMTEzMjQ4NjU0MDUxODcsICAKICAgICAgICAgICAgICAgICAgICAgICAgMC4zNjYwMjU0MDM3ODQ0MzksICAKICAgICAgICAgICAgICAgICAgICAgICAgLTAuNTc3MzUwMjY5MTg5NjI2LCAgCiAgICAgICAgICAgICAgICAgICAgICAgIDAuMDI0MzkwMjQzOTAyNDM5KTsgCiAgICAKICAgIHZlYzIgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXkpICk7CiAgICB2ZWMyIHgwID0gdiAtICAgaSArIGRvdChpLCBDLnh4KTsKCiAgICAKICAgIHZlYzIgaTE7CiAgICAKICAgIAogICAgaTEgPSAoeDAueCA+IHgwLnkpID8gdmVjMigxLjAsIDAuMCkgOiB2ZWMyKDAuMCwgMS4wKTsKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEyID0geDAueHl4eSArIEMueHh6ejsKICAgIHgxMi54eSAtPSBpMTsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7IAogICAgdmVjMyBwID0gcGVybXV0ZSggcGVybXV0ZSggaS55ICsgdmVjMygwLjAsIGkxLnksIDEuMCApKQogICAgKyBpLnggKyB2ZWMzKDAuMCwgaTEueCwgMS4wICkpOwoKICAgIHZlYzMgbSA9IG1heCgwLjUgLSB2ZWMzKGRvdCh4MCx4MCksIGRvdCh4MTIueHkseDEyLnh5KSwgZG90KHgxMi56dyx4MTIuencpKSwgMC4wKTsKICAgIG0gPSBtKm0gOwogICAgbSA9IG0qbSA7CgogICAgCiAgICAKCiAgICB2ZWMzIHggPSAyLjAgKiBmcmFjdChwICogQy53d3cpIC0gMS4wOwogICAgdmVjMyBoID0gYWJzKHgpIC0gMC41OwogICAgdmVjMyBveCA9IGZsb29yKHggKyAwLjUpOwogICAgdmVjMyBhMCA9IHggLSBveDsKCiAgICAKICAgIAogICAgbSAqPSAxLjc5Mjg0MjkxNDAwMTU5IC0gMC44NTM3MzQ3MjA5NTMxNCAqICggYTAqYTAgKyBoKmggKTsKCiAgICAKICAgIHZlYzMgZzsKICAgIGcueCAgPSBhMC54ICAqIHgwLnggICsgaC54ICAqIHgwLnk7CiAgICBnLnl6ID0gYTAueXogKiB4MTIueHogKyBoLnl6ICogeDEyLnl3OwogICAgcmV0dXJuIDEzMC4wICogZG90KG0sIGcpOwp9CgoKZmxvYXQgc25vaXNlKGluIHZlYzMgdikgewogICAgY29uc3QgdmVjMiAgQyA9IHZlYzIoMS4wLzYuMCwgMS4wLzMuMCkgOwogICAgY29uc3QgdmVjNCAgRCA9IHZlYzQoMC4wLCAwLjUsIDEuMCwgMi4wKTsKCiAgICAKICAgIHZlYzMgaSAgPSBmbG9vcih2ICsgZG90KHYsIEMueXl5KSApOwogICAgdmVjMyB4MCA9ICAgdiAtIGkgKyBkb3QoaSwgQy54eHgpIDsKCiAgICAKICAgIHZlYzMgZyA9IHN0ZXAoeDAueXp4LCB4MC54eXopOwogICAgdmVjMyBsID0gMS4wIC0gZzsKICAgIHZlYzMgaTEgPSBtaW4oIGcueHl6LCBsLnp4eSApOwogICAgdmVjMyBpMiA9IG1heCggZy54eXosIGwuenh5ICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICB2ZWMzIHgxID0geDAgLSBpMSArIEMueHh4OwogICAgdmVjMyB4MiA9IHgwIC0gaTIgKyBDLnl5eTsgCiAgICB2ZWMzIHgzID0geDAgLSBELnl5eTsgICAgICAKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICB2ZWM0IHAgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKAogICAgICAgICAgICAgICAgaS56ICsgdmVjNCgwLjAsIGkxLnosIGkyLnosIDEuMCApKQogICAgICAgICAgICArIGkueSArIHZlYzQoMC4wLCBpMS55LCBpMi55LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnggKyB2ZWM0KDAuMCwgaTEueCwgaTIueCwgMS4wICkpOwoKICAgIAogICAgCiAgICBmbG9hdCBuXyA9IDAuMTQyODU3MTQyODU3OyAKICAgIHZlYzMgIG5zID0gbl8gKiBELnd5eiAtIEQueHp4OwoKICAgIHZlYzQgaiA9IHAgLSA0OS4wICogZmxvb3IocCAqIG5zLnogKiBucy56KTsgIAoKICAgIHZlYzQgeF8gPSBmbG9vcihqICogbnMueik7CiAgICB2ZWM0IHlfID0gZmxvb3IoaiAtIDcuMCAqIHhfICk7ICAgIAoKICAgIHZlYzQgeCA9IHhfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgeSA9IHlfICpucy54ICsgbnMueXl5eTsKICAgIHZlYzQgaCA9IDEuMCAtIGFicyh4KSAtIGFicyh5KTsKCiAgICB2ZWM0IGIwID0gdmVjNCggeC54eSwgeS54eSApOwogICAgdmVjNCBiMSA9IHZlYzQoIHguencsIHkuencgKTsKCiAgICAKICAgIAogICAgdmVjNCBzMCA9IGZsb29yKGIwKSoyLjAgKyAxLjA7CiAgICB2ZWM0IHMxID0gZmxvb3IoYjEpKjIuMCArIDEuMDsKICAgIHZlYzQgc2ggPSAtc3RlcChoLCB2ZWM0KDAuMCkpOwoKICAgIHZlYzQgYTAgPSBiMC54enl3ICsgczAueHp5dypzaC54eHl5IDsKICAgIHZlYzQgYTEgPSBiMS54enl3ICsgczEueHp5dypzaC56end3IDsKCiAgICB2ZWMzIHAwID0gdmVjMyhhMC54eSxoLngpOwogICAgdmVjMyBwMSA9IHZlYzMoYTAuencsaC55KTsKICAgIHZlYzMgcDIgPSB2ZWMzKGExLnh5LGgueik7CiAgICB2ZWMzIHAzID0gdmVjMyhhMS56dyxoLncpOwoKICAgIAogICAgdmVjNCBub3JtID0gdGF5bG9ySW52U3FydCh2ZWM0KGRvdChwMCxwMCksIGRvdChwMSxwMSksIGRvdChwMiwgcDIpLCBkb3QocDMscDMpKSk7CiAgICBwMCAqPSBub3JtLng7CiAgICBwMSAqPSBub3JtLnk7CiAgICBwMiAqPSBub3JtLno7CiAgICBwMyAqPSBub3JtLnc7CgogICAgCiAgICB2ZWM0IG0gPSBtYXgoMC42IC0gdmVjNChkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpLCBkb3QoeDMseDMpKSwgMC4wKTsKICAgIG0gPSBtICogbTsKICAgIHJldHVybiA0Mi4wICogZG90KCBtKm0sIHZlYzQoIGRvdChwMCx4MCksIGRvdChwMSx4MSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHAyLHgyKSwgZG90KHAzLHgzKSApICk7Cn0KCmZsb2F0IHNub2lzZShpbiB2ZWM0IHYpIHsKICAgIGNvbnN0IHZlYzQgIEMgPSB2ZWM0KCAwLjEzODE5NjYwMTEyNTAxMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjI3NjM5MzIwMjI1MDAyMSwgIAogICAgICAgICAgICAgICAgICAgICAgICAwLjQxNDU4OTgwMzM3NTAzMiwgIAogICAgICAgICAgICAgICAgICAgICAgICAtMC40NDcyMTM1OTU0OTk5NTgpOyAKCiAgICAKICAgIHZlYzQgaSAgPSBmbG9vcih2ICsgZG90KHYsIHZlYzQoLjMwOTAxNjk5NDM3NDk0NzQ1MSkpICk7IAogICAgdmVjNCB4MCA9IHYgLSAgIGkgKyBkb3QoaSwgQy54eHh4KTsKCiAgICAKCiAgICAKICAgIHZlYzQgaTA7CiAgICB2ZWMzIGlzWCA9IHN0ZXAoIHgwLnl6dywgeDAueHh4ICk7CiAgICB2ZWMzIGlzWVogPSBzdGVwKCB4MC56d3csIHgwLnl5eiApOwogICAgCiAgICBpMC54ID0gaXNYLnggKyBpc1gueSArIGlzWC56OwogICAgaTAueXp3ID0gMS4wIC0gaXNYOwogICAgCiAgICBpMC55ICs9IGlzWVoueCArIGlzWVoueTsKICAgIGkwLnp3ICs9IDEuMCAtIGlzWVoueHk7CiAgICBpMC56ICs9IGlzWVouejsKICAgIGkwLncgKz0gMS4wIC0gaXNZWi56OwoKICAgIAogICAgdmVjNCBpMyA9IGNsYW1wKCBpMCwgMC4wLCAxLjAgKTsKICAgIHZlYzQgaTIgPSBjbGFtcCggaTAtMS4wLCAwLjAsIDEuMCApOwogICAgdmVjNCBpMSA9IGNsYW1wKCBpMC0yLjAsIDAuMCwgMS4wICk7CgogICAgCiAgICAKICAgIAogICAgCiAgICAKICAgIHZlYzQgeDEgPSB4MCAtIGkxICsgQy54eHh4OwogICAgdmVjNCB4MiA9IHgwIC0gaTIgKyBDLnl5eXk7CiAgICB2ZWM0IHgzID0geDAgLSBpMyArIEMuenp6ejsKICAgIHZlYzQgeDQgPSB4MCArIEMud3d3dzsKCiAgICAKICAgIGkgPSBtb2QyODkoaSk7CiAgICBmbG9hdCBqMCA9IHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoIHBlcm11dGUoaS53KSArIGkueikgKyBpLnkpICsgaS54KTsKICAgIHZlYzQgajEgPSBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlKCBwZXJtdXRlICgKICAgICAgICAgICAgICAgIGkudyArIHZlYzQoaTEudywgaTIudywgaTMudywgMS4wICkpCiAgICAgICAgICAgICsgaS56ICsgdmVjNChpMS56LCBpMi56LCBpMy56LCAxLjAgKSkKICAgICAgICAgICAgKyBpLnkgKyB2ZWM0KGkxLnksIGkyLnksIGkzLnksIDEuMCApKQogICAgICAgICAgICArIGkueCArIHZlYzQoaTEueCwgaTIueCwgaTMueCwgMS4wICkpOwoKICAgIAogICAgCiAgICB2ZWM0IGlwID0gdmVjNCgxLjAvMjk0LjAsIDEuMC80OS4wLCAxLjAvNy4wLCAwLjApIDsKCiAgICB2ZWM0IHAwID0gZ3JhZDQoajAsICAgaXApOwogICAgdmVjNCBwMSA9IGdyYWQ0KGoxLngsIGlwKTsKICAgIHZlYzQgcDIgPSBncmFkNChqMS55LCBpcCk7CiAgICB2ZWM0IHAzID0gZ3JhZDQoajEueiwgaXApOwogICAgdmVjNCBwNCA9IGdyYWQ0KGoxLncsIGlwKTsKCiAgICAKICAgIHZlYzQgbm9ybSA9IHRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLCBkb3QocDEscDEpLCBkb3QocDIsIHAyKSwgZG90KHAzLHAzKSkpOwogICAgcDAgKj0gbm9ybS54OwogICAgcDEgKj0gbm9ybS55OwogICAgcDIgKj0gbm9ybS56OwogICAgcDMgKj0gbm9ybS53OwogICAgcDQgKj0gdGF5bG9ySW52U3FydChkb3QocDQscDQpKTsKCiAgICAKICAgIHZlYzMgbTAgPSBtYXgoMC42IC0gdmVjMyhkb3QoeDAseDApLCBkb3QoeDEseDEpLCBkb3QoeDIseDIpKSwgMC4wKTsKICAgIHZlYzIgbTEgPSBtYXgoMC42IC0gdmVjMihkb3QoeDMseDMpLCBkb3QoeDQseDQpICAgICAgICAgICAgKSwgMC4wKTsKICAgIG0wID0gbTAgKiBtMDsKICAgIG0xID0gbTEgKiBtMTsKICAgIHJldHVybiA0OS4wICogKCBkb3QobTAqbTAsIHZlYzMoIGRvdCggcDAsIHgwICksIGRvdCggcDEsIHgxICksIGRvdCggcDIsIHgyICkpKQogICAgICAgICAgICAgICAgKyBkb3QobTEqbTEsIHZlYzIoIGRvdCggcDMsIHgzICksIGRvdCggcDQsIHg0ICkgKSApICkgOwp9Cgp2ZWMyIHNub2lzZTIoIHZlYzIgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjMiggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzIoIHgueSAtIDE5LjEsIHgueCArIDQ3LjIgKSk7CiAgICByZXR1cm4gdmVjMiggcyAsIHMxICk7Cn0KCnZlYzMgc25vaXNlMyggdmVjMyB4ICl7CiAgICBmbG9hdCBzICA9IHNub2lzZSh2ZWMzKCB4ICkpOwogICAgZmxvYXQgczEgPSBzbm9pc2UodmVjMyggeC55IC0gMTkuMSAsIHgueiArIDMzLjQgLCB4LnggKyA0Ny4yICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjMyggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCApKTsKICAgIHJldHVybiB2ZWMzKCBzICwgczEgLCBzMiApOwp9Cgp2ZWMzIHNub2lzZTMoIHZlYzQgeCApewogICAgZmxvYXQgcyAgPSBzbm9pc2UodmVjNCggeCApKTsKICAgIGZsb2F0IHMxID0gc25vaXNlKHZlYzQoIHgueSAtIDE5LjEgLCB4LnogKyAzMy40ICwgeC54ICsgNDcuMiwgeC53ICkpOwogICAgZmxvYXQgczIgPSBzbm9pc2UodmVjNCggeC56ICsgNzQuMiAsIHgueCAtIDEyNC41ICwgeC55ICsgOTkuNCwgeC53ICkpOwogICAgcmV0dXJuIHZlYzMoIHMgLCBzMSAsIHMyICk7Cn0KCiNlbmRpZgoKCgojaWZuZGVmIFJBTkRPTV9TQ0FMRQojaWYgZGVmaW5lZChSQU5ET01fSElHSEVSX1JBTkdFKQojZGVmaW5lIFJBTkRPTV9TQ0FMRSB2ZWM0KC4xMDMxLCAuMTAzMCwgLjA5NzMsIC4xMDk5KQojZWxzZQojZGVmaW5lIFJBTkRPTV9TQ0FMRSB2ZWM0KDQ0My44OTcsIDQ0MS40MjMsIC4wOTczLCAuMTA5OSkKI2VuZGlmCiNlbmRpZgoKI2lmbmRlZiBGTkNfUkFORE9NCiNkZWZpbmUgRk5DX1JBTkRPTQpmbG9hdCByYW5kb20oaW4gZmxvYXQgeCkgewojaWYgZGVmaW5lZChSQU5ET01fU0lOTEVTUykKICAgIHggPSBmcmFjdCh4ICogUkFORE9NX1NDQUxFLngpOwogICAgeCAqPSB4ICsgMzMuMzM7CiAgICB4ICo9IHggKyB4OwogICAgcmV0dXJuIGZyYWN0KHgpOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbih4KSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzIgc3QpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICB2ZWMzIHAzICA9IGZyYWN0KHZlYzMoc3QueHl4KSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAzMy4zMyk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnggKyBwMy55KSAqIHAzLnopOwojZWxzZQogICAgcmV0dXJuIGZyYWN0KHNpbihkb3Qoc3QueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7CiNlbmRpZgp9CgpmbG9hdCByYW5kb20oaW4gdmVjMyBwb3MpIHsKI2lmIGRlZmluZWQoUkFORE9NX1NJTkxFU1MpCiAgICBwb3MgID0gZnJhY3QocG9zICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwb3MgKz0gZG90KHBvcywgcG9zLnp5eCArIDMxLjMyKTsKICAgIHJldHVybiBmcmFjdCgocG9zLnggKyBwb3MueSkgKiBwb3Mueik7CiNlbHNlCiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChwb3MueHl6LCB2ZWMzKDcwLjk4OTgsIDc4LjIzMywgMzIuNDM1NSkpKSAqIDQzNzU4LjU0NTMxMjMpOwojZW5kaWYKfQoKZmxvYXQgcmFuZG9tKGluIHZlYzQgcG9zKSB7CiNpZiBkZWZpbmVkKFJBTkRPTV9TSU5MRVNTKQogICAgcG9zID0gZnJhY3QocG9zICogUkFORE9NX1NDQUxFKTsKICAgIHBvcyArPSBkb3QocG9zLCBwb3Mud3p4eSszMy4zMyk7CiAgICByZXR1cm4gZnJhY3QoKHBvcy54ICsgcG9zLnkpICogKHBvcy56ICsgcG9zLncpKTsKI2Vsc2UKICAgIGZsb2F0IGRvdF9wcm9kdWN0ID0gZG90KHBvcywgdmVjNCgxMi45ODk4LDc4LjIzMyw0NS4xNjQsOTQuNjczKSk7CiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdF9wcm9kdWN0KSAqIDQzNzU4LjU0NTMpOwojZW5kaWYKfQoKdmVjMiByYW5kb20yKGZsb2F0IHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHApICogUkFORE9NX1NDQUxFLnh5eik7CiAgICBwMyArPSBkb3QocDMsIHAzLnl6eCArIDE5LjE5KTsKICAgIHJldHVybiBmcmFjdCgocDMueHggKyBwMy55eikgKiBwMy56eSk7Cn0KCnZlYzIgcmFuZG9tMih2ZWMyIHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdChwLnh5eCAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMyIHJhbmRvbTIodmVjMyBwMykgewogICAgcDMgPSBmcmFjdChwMyAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55enggKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4ICsgcDMueXopICogcDMuenkpOwp9Cgp2ZWMzIHJhbmRvbTMoZmxvYXQgcCkgewogICAgdmVjMyBwMyA9IGZyYWN0KHZlYzMocCkgKiBSQU5ET01fU0NBTEUueHl6KTsKICAgIHAzICs9IGRvdChwMywgcDMueXp4ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwMy54eHkgKyBwMy55enopICogcDMuenl4KTsgCn0KCnZlYzMgcmFuZG9tMyh2ZWMyIHApIHsKICAgIHZlYzMgcDMgPSBmcmFjdCh2ZWMzKHAueHl4KSAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcDMgKz0gZG90KHAzLCBwMy55eHogKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAzLnh4eSArIHAzLnl6eikgKiBwMy56eXgpOwp9Cgp2ZWMzIHJhbmRvbTModmVjMyBwKSB7CiAgICBwID0gZnJhY3QocCAqIFJBTkRPTV9TQ0FMRS54eXopOwogICAgcCArPSBkb3QocCwgcC55eHogKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHAueHh5ICsgcC55enopICogcC56eXgpOwp9Cgp2ZWM0IHJhbmRvbTQoZmxvYXQgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsgICAKfQoKdmVjNCByYW5kb200KHZlYzIgcCkgewogICAgdmVjNCBwNCA9IGZyYWN0KHAueHl4eSAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9Cgp2ZWM0IHJhbmRvbTQodmVjMyBwKSB7CiAgICB2ZWM0IHA0ID0gZnJhY3QocC54eXp4ICAqIFJBTkRPTV9TQ0FMRSk7CiAgICBwNCArPSBkb3QocDQsIHA0Lnd6eHkgKyAxOS4xOSk7CiAgICByZXR1cm4gZnJhY3QoKHA0Lnh4eXogKyBwNC55enp3KSAqIHA0Lnp5d3gpOwp9Cgp2ZWM0IHJhbmRvbTQodmVjNCBwNCkgewogICAgcDQgPSBmcmFjdChwNCAgKiBSQU5ET01fU0NBTEUpOwogICAgcDQgKz0gZG90KHA0LCBwNC53enh5ICsgMTkuMTkpOwogICAgcmV0dXJuIGZyYWN0KChwNC54eHl6ICsgcDQueXp6dykgKiBwNC56eXd4KTsKfQoKCiNlbmRpZgoKCgojaWZuZGVmIEZOQ19TUkFORE9NCiNkZWZpbmUgRk5DX1NSQU5ET00KCmZsb2F0IHNyYW5kb20oaW4gZmxvYXQgeCkgewogIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KHNpbih4KSAqIDQzNzU4LjU0NTMpOwp9CgpmbG9hdCBzcmFuZG9tKGluIHZlYzIgc3QpIHsKICByZXR1cm4gLTEuICsgMi4gKiBmcmFjdChzaW4oZG90KHN0Lnh5LCB2ZWMyKDEyLjk4OTgsIDc4LjIzMykpKSAqIDQzNzU4LjU0NTMpOwp9CgpmbG9hdCBzcmFuZG9tKGluIHZlYzMgcG9zKSB7CiAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdChwb3MueHl6LCB2ZWMzKDcwLjk4OTgsIDc4LjIzMywgMzIuNDM1NSkpKSAqIDQzNzU4LjU0NTMxMjMpOwp9CgpmbG9hdCBzcmFuZG9tKGluIHZlYzQgcG9zKSB7CiAgICBmbG9hdCBkb3RfcHJvZHVjdCA9IGRvdChwb3MsIHZlYzQoMTIuOTg5OCw3OC4yMzMsNDUuMTY0LDk0LjY3MykpOwogICAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKGRvdF9wcm9kdWN0KSAqIDQzNzU4LjU0NTMpOwp9Cgp2ZWMyIHNyYW5kb20yKGluIHZlYzIgc3QpIHsKICAgIGNvbnN0IHZlYzIgayA9IHZlYzIoLjMxODMwOTksIC4zNjc4Nzk0KTsKICAgIHN0ID0gc3QgKiBrICsgay55eDsKICAgIHJldHVybiAtMS4gKyAyLiAqIGZyYWN0KDE2LiAqIGsgKiBmcmFjdChzdC54ICogc3QueSAqIChzdC54ICsgc3QueSkpKTsKfQoKdmVjMyBzcmFuZG9tMyhpbiB2ZWMzIHApIHsKICAgIHAgPSB2ZWMzKCBkb3QocCwgdmVjMygxMjcuMSwgMzExLjcsIDc0LjcpKSwKICAgICAgICAgICAgZG90KHAsIHZlYzMoMjY5LjUsIDE4My4zLCAyNDYuMSkpLAogICAgICAgICAgICBkb3QocCwgdmVjMygxMTMuNSwgMjcxLjksIDEyNC42KSkpOwogICAgcmV0dXJuIC0xLiArIDIuICogZnJhY3Qoc2luKHApICogNDM3NTguNTQ1MzEyMyk7Cn0KCnZlYzIgc3JhbmRvbTIoaW4gdmVjMiBwLCBjb25zdCBpbiBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICBwID0gbW9kKHAsIHZlYzIodGlsZUxlbmd0aCkpOwogICAgcmV0dXJuIHNyYW5kb20yKHApOwp9Cgp2ZWMzIHNyYW5kb20zKGluIHZlYzMgcCwgY29uc3QgaW4gZmxvYXQgdGlsZUxlbmd0aCkgewogICAgcCA9IG1vZChwLCB2ZWMzKHRpbGVMZW5ndGgpKTsKICAgIHJldHVybiBzcmFuZG9tMyhwKTsKfQoKI2VuZGlmCgoKI2lmbmRlZiBGTkNfQ1VCSUMKI2RlZmluZSBGTkNfQ1VCSUMgCmZsb2F0IGN1YmljKGNvbnN0IGluIGZsb2F0IHYpIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQp2ZWMyICBjdWJpYyhjb25zdCBpbiB2ZWMyIHYpICB7IHJldHVybiB2KnYqKDMuMC0yLjAqdik7IH0KdmVjMyAgY3ViaWMoY29uc3QgaW4gdmVjMyB2KSAgeyByZXR1cm4gdip2KigzLjAtMi4wKnYpOyB9CnZlYzQgIGN1YmljKGNvbnN0IGluIHZlYzQgdikgIHsgcmV0dXJuIHYqdiooMy4wLTIuMCp2KTsgfQoKZmxvYXQgY3ViaWMoY29uc3QgaW4gZmxvYXQgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgZmxvYXQgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIGZsb2F0IHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9Cgp2ZWMyIGN1YmljKGNvbnN0IGluIHZlYzIgdmFsdWUsIGluIGZsb2F0IHNsb3BlMCwgaW4gZmxvYXQgc2xvcGUxKSB7CiAgICBmbG9hdCBhID0gc2xvcGUwICsgc2xvcGUxIC0gMi47CiAgICBmbG9hdCBiID0gLTIuICogc2xvcGUwIC0gc2xvcGUxICsgMy47CiAgICBmbG9hdCBjID0gc2xvcGUwOwogICAgdmVjMiB2YWx1ZTIgPSB2YWx1ZSAqIHZhbHVlOwogICAgdmVjMiB2YWx1ZTMgPSB2YWx1ZSAqIHZhbHVlMjsKICAgIHJldHVybiBhICogdmFsdWUzICsgYiAqIHZhbHVlMiArIGMgKiB2YWx1ZTsKfQoKdmVjMyBjdWJpYyhjb25zdCBpbiB2ZWMzIHZhbHVlLCBpbiBmbG9hdCBzbG9wZTAsIGluIGZsb2F0IHNsb3BlMSkgewogICAgZmxvYXQgYSA9IHNsb3BlMCArIHNsb3BlMSAtIDIuOwogICAgZmxvYXQgYiA9IC0yLiAqIHNsb3BlMCAtIHNsb3BlMSArIDMuOwogICAgZmxvYXQgYyA9IHNsb3BlMDsKICAgIHZlYzMgdmFsdWUyID0gdmFsdWUgKiB2YWx1ZTsKICAgIHZlYzMgdmFsdWUzID0gdmFsdWUgKiB2YWx1ZTI7CiAgICByZXR1cm4gYSAqIHZhbHVlMyArIGIgKiB2YWx1ZTIgKyBjICogdmFsdWU7Cn0KCnZlYzQgY3ViaWMoY29uc3QgaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgc2xvcGUwLCBpbiBmbG9hdCBzbG9wZTEpIHsKICAgIGZsb2F0IGEgPSBzbG9wZTAgKyBzbG9wZTEgLSAyLjsKICAgIGZsb2F0IGIgPSAtMi4gKiBzbG9wZTAgLSBzbG9wZTEgKyAzLjsKICAgIGZsb2F0IGMgPSBzbG9wZTA7CiAgICB2ZWM0IHZhbHVlMiA9IHZhbHVlICogdmFsdWU7CiAgICB2ZWM0IHZhbHVlMyA9IHZhbHVlICogdmFsdWUyOwogICAgcmV0dXJuIGEgKiB2YWx1ZTMgKyBiICogdmFsdWUyICsgYyAqIHZhbHVlOwp9CiNlbmRpZgoKCiNpZm5kZWYgRk5DX1FVSU5USUMKI2RlZmluZSBGTkNfUVVJTlRJQyAKCmZsb2F0IHF1aW50aWMoY29uc3QgaW4gZmxvYXQgdikgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzIgIHF1aW50aWMoY29uc3QgaW4gdmVjMiB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzMgIHF1aW50aWMoY29uc3QgaW4gdmVjMyB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CnZlYzQgIHF1aW50aWMoY29uc3QgaW4gdmVjNCB2KSAgeyByZXR1cm4gdip2KnYqKHYqKHYqNi4wLTE1LjApKzEwLjApOyB9CgojZW5kaWYKCgoKI2lmbmRlZiBGTkNfR05PSVNFCiNkZWZpbmUgRk5DX0dOT0lTRQoKZmxvYXQgZ25vaXNlKGZsb2F0IHgpIHsKICAgIGZsb2F0IGkgPSBmbG9vcih4KTsgIAogICAgZmxvYXQgZiA9IGZyYWN0KHgpOyAgCiAgICByZXR1cm4gbWl4KHJhbmRvbShpKSwgcmFuZG9tKGkgKyAxLjApLCBzbW9vdGhzdGVwKDAuLDEuLGYpKTsgCn0KCmZsb2F0IGdub2lzZSh2ZWMyIHN0KSB7CiAgICB2ZWMyIGkgPSBmbG9vcihzdCk7CiAgICB2ZWMyIGYgPSBmcmFjdChzdCk7CiAgICBmbG9hdCBhID0gcmFuZG9tKGkpOwogICAgZmxvYXQgYiA9IHJhbmRvbShpICsgdmVjMigxLjAsIDAuMCkpOwogICAgZmxvYXQgYyA9IHJhbmRvbShpICsgdmVjMigwLjAsIDEuMCkpOwogICAgZmxvYXQgZCA9IHJhbmRvbShpICsgdmVjMigxLjAsIDEuMCkpOwogICAgdmVjMiB1ID0gY3ViaWMoZik7CiAgICByZXR1cm4gbWl4KCBhLCBiLCB1LngpICsKICAgICAgICAgICAgICAgIChjIC0gYSkqIHUueSAqICgxLjAgLSB1LngpICsKICAgICAgICAgICAgICAgIChkIC0gYikgKiB1LnggKiB1Lnk7Cn0KCmZsb2F0IGdub2lzZSh2ZWMzIHApIHsKICAgIHZlYzMgaSA9IGZsb29yKHApOwogICAgdmVjMyBmID0gZnJhY3QocCk7CiAgICB2ZWMzIHUgPSBxdWludGljKGYpOwogICAgcmV0dXJuIC0xLjAgKyAyLjAgKiBtaXgoIG1peCggbWl4KCByYW5kb20oaSArIHZlYzMoMC4wLDAuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kb20oaSArIHZlYzMoMS4wLDAuMCwwLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMS4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMS4wLDAuMCkpLCB1LngpLCB1LnkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4KCBtaXgoIHJhbmRvbShpICsgdmVjMygwLjAsMC4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbShpICsgdmVjMygxLjAsMC4wLDEuMCkpLCB1LngpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1peCggcmFuZG9tKGkgKyB2ZWMzKDAuMCwxLjAsMS4wKSksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZG9tKGkgKyB2ZWMzKDEuMCwxLjAsMS4wKSksIHUueCksIHUueSksIHUueiApOwp9CgpmbG9hdCBnbm9pc2UodmVjMyBwLCBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICB2ZWMzIGkgPSBmbG9vcihwKTsKICAgIHZlYzMgZiA9IGZyYWN0KHApOwogICAgICAgICAgICAKICAgIHZlYzMgdSA9IHF1aW50aWMoZik7CiAgICAgICAgCiAgICByZXR1cm4gbWl4KCBtaXgoIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMC4wLDAuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMC4wLDAuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDAuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDAuMCwwLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDEuMCwwLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDEuMCwwLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwxLjAsMC4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwxLjAsMC4wKSksIHUueCksIHUueSksCiAgICAgICAgICAgICAgICBtaXgoIG1peCggZG90KCBzcmFuZG9tMyhpICsgdmVjMygwLjAsMC4wLDEuMCksIHRpbGVMZW5ndGgpLCBmIC0gdmVjMygwLjAsMC4wLDEuMCkpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMS4wLDAuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMS4wLDAuMCwxLjApKSwgdS54KSwKICAgICAgICAgICAgICAgICAgICBtaXgoIGRvdCggc3JhbmRvbTMoaSArIHZlYzMoMC4wLDEuMCwxLjApLCB0aWxlTGVuZ3RoKSwgZiAtIHZlYzMoMC4wLDEuMCwxLjApKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoIHNyYW5kb20zKGkgKyB2ZWMzKDEuMCwxLjAsMS4wKSwgdGlsZUxlbmd0aCksIGYgLSB2ZWMzKDEuMCwxLjAsMS4wKSksIHUueCksIHUueSksIHUueiApOwp9Cgp2ZWMzIGdub2lzZTModmVjMyB4KSB7CiAgICByZXR1cm4gdmVjMyhnbm9pc2UoeCt2ZWMzKDEyMy40NTYsIDAuNTY3LCAwLjM3KSksCiAgICAgICAgICAgICAgICBnbm9pc2UoeCt2ZWMzKDAuMTEsIDQ3LjQzLCAxOS4xNykpLAogICAgICAgICAgICAgICAgZ25vaXNlKHgpICk7Cn0KCiNlbmRpZgoKCgoKI2lmbmRlZiBGQk1fT0NUQVZFUwojZGVmaW5lIEZCTV9PQ1RBVkVTIDQKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRV9GTkMKI2RlZmluZSBGQk1fTk9JU0VfRk5DKFVWKSBzbm9pc2UoVVYpCiNlbmRpZgoKI2lmbmRlZiBGQk1fTk9JU0UyX0ZOQwojZGVmaW5lIEZCTV9OT0lTRTJfRk5DKFVWKSBGQk1fTk9JU0VfRk5DKFVWKQojZW5kaWYKCiNpZm5kZWYgRkJNX05PSVNFM19GTkMKI2RlZmluZSBGQk1fTk9JU0UzX0ZOQyhVVikgRkJNX05PSVNFX0ZOQyhVVikKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRV9USUxBQkxFX0ZOQwojZGVmaW5lIEZCTV9OT0lTRV9USUxBQkxFX0ZOQyhVViwgVElMRSkgZ25vaXNlKFVWLCBUSUxFKQojZW5kaWYKCiNpZm5kZWYgRkJNX05PSVNFM19USUxBQkxFX0ZOQwojZGVmaW5lIEZCTV9OT0lTRTNfVElMQUJMRV9GTkMoVVYsIFRJTEUpIEZCTV9OT0lTRV9USUxBQkxFX0ZOQyhVViwgVElMRSkKI2VuZGlmCgojaWZuZGVmIEZCTV9OT0lTRV9UWVBFCiNkZWZpbmUgRkJNX05PSVNFX1RZUEUgZmxvYXQKI2VuZGlmCgojaWZuZGVmIEZCTV9WQUxVRV9JTklUSUFMCiNkZWZpbmUgRkJNX1ZBTFVFX0lOSVRJQUwgMC4wCiNlbmRpZgoKI2lmbmRlZiBGQk1fU0NBTEVfU0NBTEFSCiNkZWZpbmUgRkJNX1NDQUxFX1NDQUxBUiAyLjAKI2VuZGlmCgojaWZuZGVmIEZCTV9BTVBMSVRVRF9JTklUSUFMCiNkZWZpbmUgRkJNX0FNUExJVFVEX0lOSVRJQUwgMC41CiNlbmRpZgoKI2lmbmRlZiBGQk1fQU1QTElUVURfU0NBTEFSCiNkZWZpbmUgRkJNX0FNUExJVFVEX1NDQUxBUiAwLjUKI2VuZGlmCgojaWZuZGVmIEZOQ19GQk0KI2RlZmluZSBGTkNfRkJNCkZCTV9OT0lTRV9UWVBFIGZibShpbiB2ZWMyIHN0KSB7CiAgICAKICAgIEZCTV9OT0lTRV9UWVBFIHZhbHVlID0gRkJNX05PSVNFX1RZUEUoRkJNX1ZBTFVFX0lOSVRJQUwpOwogICAgZmxvYXQgYW1wbGl0dWQgPSBGQk1fQU1QTElUVURfSU5JVElBTDsKCiAgICAKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgRkJNX09DVEFWRVM7IGkrKykgewogICAgICAgIHZhbHVlICs9IGFtcGxpdHVkICogRkJNX05PSVNFMl9GTkMoc3QpOwogICAgICAgIHN0ICo9IEZCTV9TQ0FMRV9TQ0FMQVI7CiAgICAgICAgYW1wbGl0dWQgKj0gRkJNX0FNUExJVFVEX1NDQUxBUjsKICAgIH0KICAgIHJldHVybiB2YWx1ZTsKfQoKRkJNX05PSVNFX1RZUEUgZmJtKGluIHZlYzMgcG9zKSB7CiAgICAKICAgIEZCTV9OT0lTRV9UWVBFIHZhbHVlID0gRkJNX05PSVNFX1RZUEUoRkJNX1ZBTFVFX0lOSVRJQUwpOwogICAgZmxvYXQgYW1wbGl0dWQgPSBGQk1fQU1QTElUVURfSU5JVElBTDsKCiAgICAKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgRkJNX09DVEFWRVM7IGkrKykgewogICAgICAgIHZhbHVlICs9IGFtcGxpdHVkICogRkJNX05PSVNFM19GTkMocG9zKTsKICAgICAgICBwb3MgKj0gRkJNX1NDQUxFX1NDQUxBUjsKICAgICAgICBhbXBsaXR1ZCAqPSBGQk1fQU1QTElUVURfU0NBTEFSOwogICAgfQogICAgcmV0dXJuIHZhbHVlOwp9CgpGQk1fTk9JU0VfVFlQRSBmYm0odmVjMyBwLCBmbG9hdCB0aWxlTGVuZ3RoKSB7CiAgICBjb25zdCBmbG9hdCBwZXJzaXN0ZW5jZSA9IDAuNTsKICAgIGNvbnN0IGZsb2F0IGxhY3VuYXJpdHkgPSAyLjA7CgogICAgZmxvYXQgYW1wbGl0dWRlID0gMC41OwogICAgRkJNX05PSVNFX1RZUEUgdG90YWwgPSBGQk1fTk9JU0VfVFlQRSgwLjApOwogICAgZmxvYXQgbm9ybWFsaXphdGlvbiA9IDAuMDsKCiAgICBmb3IgKGludCBpID0gMDsgaSA8IEZCTV9PQ1RBVkVTOyArK2kpIHsKICAgICAgICBmbG9hdCBub2lzZVZhbHVlID0gRkJNX05PSVNFM19USUxBQkxFX0ZOQyhwLCB0aWxlTGVuZ3RoICogbGFjdW5hcml0eSAqIDAuNSkgKiAwLjUgKyAwLjU7CiAgICAgICAgdG90YWwgKz0gbm9pc2VWYWx1ZSAqIGFtcGxpdHVkZTsKICAgICAgICBub3JtYWxpemF0aW9uICs9IGFtcGxpdHVkZTsKICAgICAgICBhbXBsaXR1ZGUgKj0gcGVyc2lzdGVuY2U7CiAgICAgICAgcCA9IHAgKiBsYWN1bmFyaXR5OwogICAgfQoKICAgIHJldHVybiB0b3RhbCAvIG5vcm1hbGl6YXRpb247Cn0KI2VuZGlmCgoKCgoKCnZvaWQgbWFpbigpIHsKCiAgdlV2ID0gdXY7CgogIHBvcyA9IHBvc2l0aW9uOwoKICAKCiAgdkRpc3BsYWNlbWVudCA9IGNub2lzZShwb3NpdGlvbiooMC4wICsgMS4wL3Vfc2NhbGUpICsgdmVjMyh1X3RpbWUqdV9zcGVlZCkpOwoKICAKCiAgZmxvYXQgZnJlcXVlbmN5ID0gNC4wOwoKICBmbG9hdCBzdHJpcGVzID0gZnJlcXVlbmN5ICogcG9zaXRpb24ueTsKCiAgZmxvYXQgcm91bmRlZCA9IGZsb29yKHN0cmlwZXMpOwoKICAKCiAgaWYgKG1vZChyb3VuZGVkLCAyLjApID09IDAuMCl7CgogICAgdkRpc3BsYWNlbWVudCAqPSAyLjI7CgogIH0KCiAgCgogIHZlYzMgbmV3UG9zaXRpb24gPSBwb3NpdGlvbiArIG5vcm1hbCAqIHZEaXNwbGFjZW1lbnQqdV9pbnRlbnNpdHk7CgogIAoKICB2ZWM0IG1vZGVsUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHZlYzQobmV3UG9zaXRpb24sIDEuMCk7CgogIHZlYzQgdmlld1Bvc2l0aW9uID0gdmlld01hdHJpeCAqIG1vZGVsUG9zaXRpb247CgogIHZlYzQgcHJvamVjdGVkUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld1Bvc2l0aW9uOwoKCgogIGdsX1Bvc2l0aW9uID0gcHJvamVjdGVkUG9zaXRpb247CgogIAoKICAvL2dsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7CgogIAoKfQoKYCwKICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB7dV9pbnRlbnNpdHk6IHt2YWx1ZTogMC4yNDJ9LHVfY29sb3JzOiB7dmFsdWU6IFtuZXcgVEhSRUUuVmVjdG9yNCgwLjg3NDUwOTgwMzkyMTU2ODYsMSwwLDEpLG5ldyBUSFJFRS5WZWN0b3I0KDAuMTAxOTYwNzg0MzEzNzI1NDksMSwwLjY1NDkwMTk2MDc4NDMxMzcsMSldfSx1X3NwZWVkOiB7dmFsdWU6IDAuMDl9LHVfc2NhbGU6IHt2YWx1ZTogMC42MzJ9LHVfbm9pc2U6IHt2YWx1ZTogdHJ1ZX0sdV9ub2lzZV9jb2xvcjoge3ZhbHVlOiBbMSwwLDBdfSx1X3RpbWU6IHt2YWx1ZTogMH0sdV9tb3VzZToge3ZhbHVlOiBbMCwwXX0sdV9yZXNvbHV0aW9uOiB7dmFsdWU6IFs4MjAsNTgwXX19LAogICAgICAgICAgICAgICAgd2lyZWZyYW1lOiBmYWxzZSwgCiAgICAgICAgICAgICAgICB3aXJlZnJhbWVMaW5ld2lkdGg6IDAsCiAgICAgICAgICAgICAgICBkaXRoZXJpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgZmxhdFNoYWRpbmc6IHRydWUsCiAgICAgICAgICAgICAgICBkb3VibGVTaWRlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIGdsc2xWZXJzaW9uOiAiMTAwIgogICAgICAgICAgICB9KQogICAgICAgICk7ICAKICAgIH0KCiAgICBSZWFjdERPTS5yZW5kZXIoUmVhY3QuY3JlYXRlRWxlbWVudChDYW52YXMsewogICAgICAgICAgICBnbDogewogICAgICAgICAgICAgICAgcHJlc2VydmVEcmF3aW5nQnVmZmVyOiB0cnVlLAogICAgICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBmYWxzZSwKICAgICAgICAgICAgICAgIGFscGhhOiB0cnVlLAogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsCiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsCiAgICAgICAgICAgICAgICBwcmVjaXNpb246ICJoaWdocCIsCiAgICAgICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6ICJoaWdoLXBlcmZvcm1hbmNlIgogICAgICAgICAgICB9LAogICAgICAgICAgICByZXNpemU6ewogICAgICAgICAgICAgICAgZGVib3VuY2U6IDAsCiAgICAgICAgICAgICAgICBzY3JvbGw6IGZhbHNlLAogICAgICAgICAgICAgICAgb2Zmc2V0U2l6ZTogdHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICBkcHI6IDEsCiAgICAgICAgICAgIGNhbWVyYTogewogICAgICAgICAgICAgICAgZm92OiA3NSwKICAgICAgICAgICAgICAgIG5lYXI6IDAuMSwKICAgICAgICAgICAgICAgIGZhcjogMTAwMCwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbMCwwLDJdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0eWxlOnsgaGVpZ2h0OiAiMTAwJSIsIHdpZHRoOiAiMTAwJSIgfQogICAgICAgIH0sCiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0dXJlTWVzaCkgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICksIGVtYmVkUm9vdCk7Cjwvc2NyaXB0PgogICAgICAgIDwvaGVhZD4KICAgICAgICA8Ym9keT4KPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2Jvb2suNWZiMTFiOGQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2x5Z2lhLmY3NDkwNTk0LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9vdmVyZmxvdy44ZDUwNDE1ZC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdHJhc2guNTI0ZGJjZDMuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3ZlcnRpY2FsLjkwNjEwODQ5LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9ob3Jpem9udGFsLjQ0Zjc3MWY4LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy9hZGQuYTU1MjQwZGQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL3NpZy44NTBhODVlNy5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvbWludXMuMWUxYTBhYmQuc3ZnIC0tPgoKPCEtLSBBU1NFVCBOT1QgSU5MSU5FRDogYXNzZXRzL2VmZmVjdC40NTU3MjQzZi5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvdmlzaWJsZS5jNmQ0ZTFjMC5zdmcgLS0+Cgo8IS0tIEFTU0VUIE5PVCBJTkxJTkVEOiBhc3NldHMvaGlkZGVuLjVhNGZjMjU0LnN2ZyAtLT4KCjwhLS0gQVNTRVQgTk9UIElOTElORUQ6IGFzc2V0cy93b3JrZXIuYjc2MWZiMTEuanMgLS0+CjwvYm9keT4KICAgICAgICA8L2h0bWw+"
  style="border:0;margin:0;width: 100%;height:100%;"></iframe>
